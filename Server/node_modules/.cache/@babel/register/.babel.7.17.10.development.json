{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\28-April- Photo album App\\\\Server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\28-April- Photo album App\\\\Server\",\"filename\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\28-April- Photo album App\\\\Server\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\28-April- Photo album App\\\\Server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _express = _interopRequireWildcard(require(\"express\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql2\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// import express from 'express';\n// import mysql from 'mysql'; // create an instance\n//multer is only used for uploading the file\n//const mysql = require(\"mysql\");\n// connection with the DB\n// const db = mysql.createConnection ({\n//   host: 'localhost',\n//   port: 3306,\n//   user:'root',\n//   password:'',\n//   // database:'Employees'\n//   database:'Photogallery'\n// });\n// for production\nvar db = _mysql[\"default\"].createConnection({\n  // host: 'http://139.59.20.112/',\n  // port: 3306,\n  // user:'myadmin',\n  // password:'MySQL@dmin!12345',\n  // database:'Employees'\n  // database:'Photogallery'\n  host: process.env.DBHOST,\n  port: process.env.DBPOST,\n  user: process.env.DBUSER,\n  password: process.env.DBPASSWORD,\n  database: 'Photogallery'\n});\n\nvar jsonData = [{\n  \"albumId\": 1,\n  \"id\": 1,\n  \"title\": \"accusamus beatae ad facilis cum similique qui sunt\",\n  \"url\": \"https://via.placeholder.com/600/92c952\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/92c952\"\n}, {\n  \"albumId\": 1,\n  \"id\": 2,\n  \"title\": \"reprehenderit est deserunt velit ipsam\",\n  \"url\": \"https://via.placeholder.com/600/771796\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/771796\"\n}, {\n  \"albumId\": 1,\n  \"id\": 3,\n  \"title\": \"officia porro iure quia iusto qui ipsa ut modi\",\n  \"url\": \"https://via.placeholder.com/600/24f355\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/24f355\"\n}, {\n  \"albumId\": 1,\n  \"id\": 4,\n  \"title\": \"culpa odio esse rerum omnis laboriosam voluptate repudiandae\",\n  \"url\": \"https://via.placeholder.com/600/d32776\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/d32776\"\n}, {\n  \"albumId\": 1,\n  \"id\": 5,\n  \"title\": \"natus nisi omnis corporis facere molestiae rerum in\",\n  \"url\": \"https://via.placeholder.com/600/f66b97\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/f66b97\"\n}, {\n  \"albumId\": 1,\n  \"id\": 6,\n  \"title\": \"accusamus ea aliquid et amet sequi nemo\",\n  \"url\": \"https://via.placeholder.com/600/56a8c2\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/56a8c2\"\n}, {\n  \"albumId\": 1,\n  \"id\": 7,\n  \"title\": \"officia delectus consequatur vero aut veniam explicabo molestias\",\n  \"url\": \"https://via.placeholder.com/600/b0f7cc\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/b0f7cc\"\n}, {\n  \"albumId\": 1,\n  \"id\": 8,\n  \"title\": \"aut porro officiis laborum odit ea laudantium corporis\",\n  \"url\": \"https://via.placeholder.com/600/54176f\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/54176f\"\n}, {\n  \"albumId\": 1,\n  \"id\": 9,\n  \"title\": \"qui eius qui autem sed\",\n  \"url\": \"https://via.placeholder.com/600/51aa97\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/51aa97\"\n}];\nvar server = (0, _express[\"default\"])();\nserver.use((0, _cors[\"default\"])()); // This tells node to apply json format to all data\n\nserver.use(_express[\"default\"].json());\nserver.use(_express[\"default\"][\"static\"]('uploads'));\ndb.connect(function (error) {\n  if (error) console.log(error);else console.log('MySQL is connected to Node');\n});\n\nvar storage = _multer[\"default\"].diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './uploads');\n  },\n  filename: function filename(req, file, cb) {\n    // const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\n    cb(null, file.originalname);\n  }\n});\n\nvar fileupload = (0, _multer[\"default\"])({\n  storage: storage\n});\nserver.post('/upload', fileupload.single(\"file_fromC\"), function (req, res) {\n  res.json({\n    fileupload: true\n  });\n});\nserver.get('/photos', function (req, res) {\n  var query = \"CALL `getPhotos`()\";\n  db.query(query, function (error, allphotos) {\n    if (error) {\n      res.json({\n        allphotos: false,\n        message: error\n      });\n    } else {\n      res.json({\n        allphotos: allphotos[0],\n        message: \"returned photos\"\n      });\n    }\n  });\n});\nserver.get('/photos/:photoid', function (req, res) {\n  var query = \"CALL `getPhotoByID`(?)\";\n  db.query(query, [req.params.photoid], function (error, photo) {\n    if (error) {\n      res.json({\n        photo: false,\n        message: error\n      });\n    } else {\n      res.json({\n        photo: photo[0][0],\n        message: \"Returned photo by ID\"\n      });\n    }\n  });\n});\nserver.post('/photos', function (req, res) {\n  var query = \"CALL `addPhoto`(?, ?, ?, ?)\";\n  db.query(query, [req.body.albumId_fromC, req.body.title_fromC, req.body.url_fromC, req.body.tn_fromC], function (error, newphoto) {\n    if (error) {\n      res.json({\n        newphoto: false,\n        message: error\n      });\n    } else {\n      res.json({\n        newphoto: newphoto[0],\n        message: \"Photo added to the table\"\n      });\n    }\n  });\n});\nserver[\"delete\"]('/photos/:id', function (req, res) {\n  var query = \"CALL `deletePhoto`(?)\";\n  var getFilename = \"CALL `getPhotoByID`(?)\";\n  db.query(getFilename, [req.params.id], function (error, data) {\n    //res.json(data[0][0].url);\n    if (error) {} else {\n      var file_to_be_deleted = data[0][0].url;\n\n      _fs[\"default\"].unlink('./uploads/' + file_to_be_deleted, function (error) {\n        if (error) {\n          res.json({\n            delStatus: false,\n            message: error\n          });\n        } else {\n          db.query(query, [req.params.id], function (error, deleteStatus) {\n            if (error) {\n              res.json({\n                delStatus: false,\n                message: error\n              });\n            } else {\n              var del_success = deleteStatus[0][0].DEL_SUCCESS;\n\n              if (del_success === 1) {\n                res.json({\n                  delStatus: del_success,\n                  message: \"Successfully Deleted\"\n                });\n              } else {\n                res.json({\n                  delStatus: del_success,\n                  message: \"ID not found\"\n                });\n              }\n            }\n          });\n        }\n      });\n    }\n  });\n}); // server.get('/employeesapi',(req,res)=>{\n//   // let allEmpSP =\"CAll `All_Emp_Data`()\";\n//   let allEmpSP = \"SELECT * FROM Employee\"\n//   let query = db.query(allEmpSP,(error,data,fields) => {\n//     if(error){\n//       res.json({ ErrorMessage:error })\n//       // console.log(error);\n//     }\n//     else{\n//     // console.log(data);\n//     res.json(data);\n//   }\n//   })\n// })\n// method 1\n// server.get('/employeessp', (req, res) => {\n//   let allEmpSP = \"CALL `All_Emp_Data`()\";\n//   //let allEmpSP = \"SELECT * FROM Employee\"\n//   let query = db.query(allEmpSP, (error, data, fields) => {\n//     if(error){\n//       res.json({ ErrorMessage: error });\n//     }\n//     else{\n//       res.json(data[0]);\n//     }\n//   })\n// });\n// method 2\n// server.get('/employee/:id' , (req,res) => {\n//   let emp_id = req.params.id;\n//   let empSP = \"CALL 'one_emp_data`(?)\";\n//   db.query(empSP,[emp_id] , (error,data,fields) =>{\n//     if(error){\n//       res.json({ ErrorMessage: error});\n//     }\n//     else{\n//       res.json(data[0]);\n//     }\n//   })\n// });\n// LOGIN\n\nserver.post('/login', function (req, res) {\n  var email = req.body.email;\n  var password = req.body.password;\n  var loginQuery = 'CALL `login`(?, ?)';\n  db.query(loginQuery, [email, password], function (error, data) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      });\n    } else {\n      if (data[0].length === 0) {\n        res.json({\n          data: data[0],\n          login: false,\n          message: \"Sorry, you have provided wrong credentials\"\n        });\n      } else {\n        res.json({\n          UserID: data[0].UserID,\n          email: data[0].email,\n          data: data[0],\n          login: true,\n          message: \"Login successful\"\n        }); // create the Auth Key\n      }\n    }\n  });\n}); // server.post('/signup', (req, res) => {\n//   let email = req.body.email;\n//   let password = req.body.password;\n//   let name = req.body.name;\n//   let signupQuery = \"CALL `newuser`(?, ?, ?)\";\n//   db.query(signupQuery, [email, password,name], (error, data) => {\n//     if(error){\n//       res.json({ ErrorMessage: error});\n//     }\n//     else{\n//      res.json({ data: data[0], signup: true, message: \"Signup success\"})\n// }  \n// })   \n// });\n// SIGNUP\n\nserver.post('/signup', function (req, res) {\n  // req.body is targeting the client side\n  var email = req.body.email;\n  var password = req.body.password;\n  var name = req.body.name;\n  var signupQuery = \"CALL `newuser`(?,?,?)\";\n  db.query(signupQuery, [email, password, name], function (error, data, fields) {\n    if (error) {\n      res.json({\n        newuser: false,\n        message: error\n      }); // res.json({ ErrorMessage: error});\n      // res.json({newuser:false,message:error})\n    } else {\n      res.json({\n        newuser: true,\n        message: \"New user added to the db\"\n      });\n    }\n  });\n}); // Update\n\nserver.put('/updateUser', function (req, res) {\n  var ID = req.body.ID;\n  var email = req.body.email;\n  var password = req.body.password;\n  var query = \"CALL `updateUser`(?, ?, ?)\";\n  db.query(query, [ID, email, password], function (error, data) {\n    if (error) {\n      res.json({\n        update: false,\n        message: error\n      });\n    } else {\n      res.json({\n        update: true,\n        message: \"User successfully updated\"\n      });\n    }\n  });\n});\nserver[\"delete\"]('/deleteuser/:id', function (req, res) {\n  // let ID = req.params.id;\n  var query = \"CALL `deleteUser`(?)\"; // db.query (query,[ID],(error,data) =>{\n\n  db.query(query, [req.params.id], function (error, data) {\n    if (error) {\n      res.json({\n        deleteUser: false,\n        message: error\n      });\n    } else {\n      res.json({\n        deleteUser: true,\n        message: \"User deleted successfully \"\n      });\n    }\n  });\n});\nserver.get('/user/:id', function (req, res) {\n  var ID = req.params.id;\n  var query = \"CALL `getUser`(?)\";\n  db.query(query, [ID], function (error, data) {\n    if (error) {\n      res.json({\n        user: false,\n        message: error\n      });\n    } else {\n      if (data[0].length === 0) {\n        res.json({\n          user: false,\n          message: \"No user with that ID exists\"\n        });\n      } else {\n        res.json({\n          user: true,\n          message: \"User found\",\n          userData: data[0]\n        });\n      }\n    }\n  });\n}); //Get means client is asking\n//Post is giving some extra information and also asking for data\n// req is data from the client to the server\n// res is data from the server to the client\n\nserver.get('/photosapi', function (req, res) {\n  res.json(jsonData);\n});\nserver.get('/photosapi/:photoid', function (req, res) {\n  var id_from_client = req.params.photoid;\n  res.json(jsonData.find(function (x) {\n    return x.id == id_from_client;\n  }));\n});\nserver.post('/photosapi', function (req, res) {\n  var newPhoto = {\n    albumId: req.body.albumId,\n    id: req.body.id,\n    title: req.body.title,\n    url: req.body.url,\n    thumbnailUrl: req.body.thumbnailUrl\n  }; // console.log(newPhoto)\n\n  jsonData.push(newPhoto);\n  res.json(newPhoto);\n});\nserver.put('/photosapi/:id', function (req, res) {\n  var photoindex = jsonData.findIndex(function (x) {\n    return x.id == req.params.id;\n  });\n  console.log(photoindex);\n\n  if (photoindex !== -1) {\n    var newPhotoData = {\n      albumId: req.body.albumId,\n      id: req.body.id,\n      title: req.body.title,\n      url: req.body.url,\n      thumbnailUrl: req.body.thumbnailUrl\n    };\n    jsonData[photoindex] = newPhotoData;\n    res.json(jsonData[photoindex]);\n  } else res.status(400).json({\n    message: \"There is no photo with ID: \" + req.params.id\n  });\n});\nserver[\"delete\"]('/photosapi/:id', function (req, res) {\n  var photoindex = jsonData.findIndex(function (x) {\n    return x.id == req.params.id;\n  });\n\n  if (photoindex !== -1) {\n    jsonData.splice(photoindex, 1);\n    res.json({\n      message: \"Photo ID: \" + req.params.id + \" deleted\"\n    });\n  } else res.status(400).json({\n    message: \"ERROR: Photo ID: \" + req.params.id + \" not found\"\n  });\n}); // You can give port number of your choice\n\nserver.listen(4400, function () {\n  console.log('Server is successfully running on port 4400'); //  console.log(process.env.DBPORT);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsIm15c3FsIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiREJIT1NUIiwicG9ydCIsIkRCUE9TVCIsInVzZXIiLCJEQlVTRVIiLCJwYXNzd29yZCIsIkRCUEFTU1dPUkQiLCJkYXRhYmFzZSIsImpzb25EYXRhIiwic2VydmVyIiwidXNlIiwiZXhwcmVzcyIsImpzb24iLCJjb25uZWN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsIm9yaWdpbmFsbmFtZSIsImZpbGV1cGxvYWQiLCJwb3N0Iiwic2luZ2xlIiwicmVzIiwiZ2V0IiwicXVlcnkiLCJhbGxwaG90b3MiLCJtZXNzYWdlIiwicGFyYW1zIiwicGhvdG9pZCIsInBob3RvIiwiYm9keSIsImFsYnVtSWRfZnJvbUMiLCJ0aXRsZV9mcm9tQyIsInVybF9mcm9tQyIsInRuX2Zyb21DIiwibmV3cGhvdG8iLCJnZXRGaWxlbmFtZSIsImlkIiwiZGF0YSIsImZpbGVfdG9fYmVfZGVsZXRlZCIsInVybCIsImZzIiwidW5saW5rIiwiZGVsU3RhdHVzIiwiZGVsZXRlU3RhdHVzIiwiZGVsX3N1Y2Nlc3MiLCJERUxfU1VDQ0VTUyIsImVtYWlsIiwibG9naW5RdWVyeSIsIkVycm9yTWVzc2FnZSIsImxlbmd0aCIsImxvZ2luIiwiVXNlcklEIiwibmFtZSIsInNpZ251cFF1ZXJ5IiwiZmllbGRzIiwibmV3dXNlciIsInB1dCIsIklEIiwidXBkYXRlIiwiZGVsZXRlVXNlciIsInVzZXJEYXRhIiwiaWRfZnJvbV9jbGllbnQiLCJmaW5kIiwieCIsIm5ld1Bob3RvIiwiYWxidW1JZCIsInRpdGxlIiwidGh1bWJuYWlsVXJsIiwicHVzaCIsInBob3RvaW5kZXgiLCJmaW5kSW5kZXgiLCJuZXdQaG90b0RhdGEiLCJzdGF0dXMiLCJzcGxpY2UiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkQ6XFxWYW5BcnQgQXNzaWdubWVudHNcXEpvaG5cXHByYWN0aWNlIGNsYXNzIGFzc2lnbm1lbnRzXFwyOC1BcHJpbC0gUGhvdG8gYWxidW0gQXBwXFxTZXJ2ZXJcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzLCB7IGpzb24gfSBmcm9tICdleHByZXNzJztcclxuLy8gaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbi8vIGltcG9ydCBteXNxbCBmcm9tICdteXNxbCc7IC8vIGNyZWF0ZSBhbiBpbnN0YW5jZVxyXG5pbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwyJztcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJzsvL211bHRlciBpcyBvbmx5IHVzZWQgZm9yIHVwbG9hZGluZyB0aGUgZmlsZVxyXG4vL2NvbnN0IG15c3FsID0gcmVxdWlyZShcIm15c3FsXCIpO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnOyBcclxuXHJcblxyXG4vLyBjb25uZWN0aW9uIHdpdGggdGhlIERCXHJcbi8vIGNvbnN0IGRiID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbiAoe1xyXG4vLyAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4vLyAgIHBvcnQ6IDMzMDYsXHJcbi8vICAgdXNlcjoncm9vdCcsXHJcbi8vICAgcGFzc3dvcmQ6JycsXHJcbi8vICAgLy8gZGF0YWJhc2U6J0VtcGxveWVlcydcclxuLy8gICBkYXRhYmFzZTonUGhvdG9nYWxsZXJ5J1xyXG5cclxuLy8gfSk7XHJcblxyXG4vLyBmb3IgcHJvZHVjdGlvblxyXG5jb25zdCBkYiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24gKHtcclxuICAvLyBob3N0OiAnaHR0cDovLzEzOS41OS4yMC4xMTIvJyxcclxuICAvLyBwb3J0OiAzMzA2LFxyXG4gIC8vIHVzZXI6J215YWRtaW4nLFxyXG4gIC8vIHBhc3N3b3JkOidNeVNRTEBkbWluITEyMzQ1JyxcclxuICAvLyBkYXRhYmFzZTonRW1wbG95ZWVzJ1xyXG4gIC8vIGRhdGFiYXNlOidQaG90b2dhbGxlcnknXHJcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJIT1NULFxyXG4gIHBvcnQ6IHByb2Nlc3MuZW52LkRCUE9TVCxcclxuICB1c2VyOiBwcm9jZXNzLmVudi5EQlVTRVIsXHJcbiAgcGFzc3dvcmQ6cHJvY2Vzcy5lbnYuREJQQVNTV09SRCxcclxuICBkYXRhYmFzZTonUGhvdG9nYWxsZXJ5J1xyXG5cclxufSk7XHJcblxyXG5sZXQganNvbkRhdGEgPSBbXHJcbiAgICB7XHJcbiAgICAgIFwiYWxidW1JZFwiOiAxLFxyXG4gICAgICBcImlkXCI6IDEsXHJcbiAgICAgIFwidGl0bGVcIjogXCJhY2N1c2FtdXMgYmVhdGFlIGFkIGZhY2lsaXMgY3VtIHNpbWlsaXF1ZSBxdWkgc3VudFwiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS82MDAvOTJjOTUyXCIsXHJcbiAgICAgIFwidGh1bWJuYWlsVXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MC85MmM5NTJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJhbGJ1bUlkXCI6IDEsXHJcbiAgICAgIFwiaWRcIjogMixcclxuICAgICAgXCJ0aXRsZVwiOiBcInJlcHJlaGVuZGVyaXQgZXN0IGRlc2VydW50IHZlbGl0IGlwc2FtXCIsXHJcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzYwMC83NzE3OTZcIixcclxuICAgICAgXCJ0aHVtYm5haWxVcmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwLzc3MTc5NlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcImFsYnVtSWRcIjogMSxcclxuICAgICAgXCJpZFwiOiAzLFxyXG4gICAgICBcInRpdGxlXCI6IFwib2ZmaWNpYSBwb3JybyBpdXJlIHF1aWEgaXVzdG8gcXVpIGlwc2EgdXQgbW9kaVwiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS82MDAvMjRmMzU1XCIsXHJcbiAgICAgIFwidGh1bWJuYWlsVXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MC8yNGYzNTVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJhbGJ1bUlkXCI6IDEsXHJcbiAgICAgIFwiaWRcIjogNCxcclxuICAgICAgXCJ0aXRsZVwiOiBcImN1bHBhIG9kaW8gZXNzZSByZXJ1bSBvbW5pcyBsYWJvcmlvc2FtIHZvbHVwdGF0ZSByZXB1ZGlhbmRhZVwiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS82MDAvZDMyNzc2XCIsXHJcbiAgICAgIFwidGh1bWJuYWlsVXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MC9kMzI3NzZcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJhbGJ1bUlkXCI6IDEsXHJcbiAgICAgIFwiaWRcIjogNSxcclxuICAgICAgXCJ0aXRsZVwiOiBcIm5hdHVzIG5pc2kgb21uaXMgY29ycG9yaXMgZmFjZXJlIG1vbGVzdGlhZSByZXJ1bSBpblwiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS82MDAvZjY2Yjk3XCIsXHJcbiAgICAgIFwidGh1bWJuYWlsVXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MC9mNjZiOTdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJhbGJ1bUlkXCI6IDEsXHJcbiAgICAgIFwiaWRcIjogNixcclxuICAgICAgXCJ0aXRsZVwiOiBcImFjY3VzYW11cyBlYSBhbGlxdWlkIGV0IGFtZXQgc2VxdWkgbmVtb1wiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS82MDAvNTZhOGMyXCIsXHJcbiAgICAgIFwidGh1bWJuYWlsVXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MC81NmE4YzJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJhbGJ1bUlkXCI6IDEsXHJcbiAgICAgIFwiaWRcIjogNyxcclxuICAgICAgXCJ0aXRsZVwiOiBcIm9mZmljaWEgZGVsZWN0dXMgY29uc2VxdWF0dXIgdmVybyBhdXQgdmVuaWFtIGV4cGxpY2FibyBtb2xlc3RpYXNcIixcclxuICAgICAgXCJ1cmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vNjAwL2IwZjdjY1wiLFxyXG4gICAgICBcInRodW1ibmFpbFVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xNTAvYjBmN2NjXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiYWxidW1JZFwiOiAxLFxyXG4gICAgICBcImlkXCI6IDgsXHJcbiAgICAgIFwidGl0bGVcIjogXCJhdXQgcG9ycm8gb2ZmaWNpaXMgbGFib3J1bSBvZGl0IGVhIGxhdWRhbnRpdW0gY29ycG9yaXNcIixcclxuICAgICAgXCJ1cmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vNjAwLzU0MTc2ZlwiLFxyXG4gICAgICBcInRodW1ibmFpbFVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xNTAvNTQxNzZmXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiYWxidW1JZFwiOiAxLFxyXG4gICAgICBcImlkXCI6IDksXHJcbiAgICAgIFwidGl0bGVcIjogXCJxdWkgZWl1cyBxdWkgYXV0ZW0gc2VkXCIsXHJcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzYwMC81MWFhOTdcIixcclxuICAgICAgXCJ0aHVtYm5haWxVcmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwLzUxYWE5N1wiXHJcbiAgICB9XHJcbl1cclxuXHJcblxyXG5jb25zdCBzZXJ2ZXIgPSBleHByZXNzKCk7XHJcbnNlcnZlci51c2UoY29ycygpKTtcclxuLy8gVGhpcyB0ZWxscyBub2RlIHRvIGFwcGx5IGpzb24gZm9ybWF0IHRvIGFsbCBkYXRhXHJcbnNlcnZlci51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5zZXJ2ZXIudXNlKGV4cHJlc3Muc3RhdGljKCd1cGxvYWRzJykpO1xyXG5cclxuXHJcblxyXG5kYi5jb25uZWN0KCAoZXJyb3IpID0+IHtcclxuICBpZihlcnJvcikgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gIGVsc2UgY29uc29sZS5sb2coJ015U1FMIGlzIGNvbm5lY3RlZCB0byBOb2RlJyk7XHJcbn0pO1xyXG5cclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjYihudWxsLCAnLi91cGxvYWRzJylcclxuICB9LFxyXG4gIGZpbGVuYW1lOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgLy8gY29uc3QgdW5pcXVlU3VmZml4ID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFFOSlcclxuICAgIGNiKG51bGwsIGZpbGUub3JpZ2luYWxuYW1lKVxyXG4gIH1cclxufSlcclxuXHJcbmNvbnN0IGZpbGV1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlfSk7XHJcblxyXG5zZXJ2ZXIucG9zdCgnL3VwbG9hZCcsIGZpbGV1cGxvYWQuc2luZ2xlKFwiZmlsZV9mcm9tQ1wiKSwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLmpzb24oeyBmaWxldXBsb2FkOiB0cnVlIH0pO1xyXG59KTtcclxuXHJcblxyXG5zZXJ2ZXIuZ2V0KCcvcGhvdG9zJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IHF1ZXJ5ID0gXCJDQUxMIGBnZXRQaG90b3NgKClcIjtcclxuICBkYi5xdWVyeSggcXVlcnksIChlcnJvciwgYWxscGhvdG9zICkgPT57XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgIHJlcy5qc29uKHsgYWxscGhvdG9zOmZhbHNlLCBtZXNzYWdlOiBlcnJvciB9KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHJlcy5qc29uKHsgYWxscGhvdG9zOiBhbGxwaG90b3NbMF0sIG1lc3NhZ2U6XCJyZXR1cm5lZCBwaG90b3NcIn0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbn0pO1xyXG5cclxuc2VydmVyLmdldCgnL3Bob3Rvcy86cGhvdG9pZCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIGxldCBxdWVyeSA9IFwiQ0FMTCBgZ2V0UGhvdG9CeUlEYCg/KVwiO1xyXG4gIGRiLnF1ZXJ5KCBxdWVyeSwgW3JlcS5wYXJhbXMucGhvdG9pZF0sIChlcnJvciwgcGhvdG8gKSA9PntcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgcmVzLmpzb24oeyBwaG90bzogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgcmVzLmpzb24oeyBwaG90bzogcGhvdG9bMF1bMF0sIG1lc3NhZ2U6IFwiUmV0dXJuZWQgcGhvdG8gYnkgSURcIn0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbn0pXHJcblxyXG5cclxuXHJcbnNlcnZlci5wb3N0KCcvcGhvdG9zJywgKHJlcSxyZXMpID0+IHtcclxuICBsZXQgcXVlcnkgPSBcIkNBTEwgYGFkZFBob3RvYCg/LCA/LCA/LCA/KVwiO1xyXG4gIGRiLnF1ZXJ5KCBxdWVyeSwgW3JlcS5ib2R5LmFsYnVtSWRfZnJvbUMsIHJlcS5ib2R5LnRpdGxlX2Zyb21DLCByZXEuYm9keS51cmxfZnJvbUMsIHJlcS5ib2R5LnRuX2Zyb21DXSwgKGVycm9yLCBuZXdwaG90bykgPT4ge1xyXG4gICAgaWYoZXJyb3Ipe1xyXG4gICAgICByZXMuanNvbih7IG5ld3Bob3RvOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICByZXMuanNvbih7IG5ld3Bob3RvOiBuZXdwaG90b1swXSwgbWVzc2FnZTpcIlBob3RvIGFkZGVkIHRvIHRoZSB0YWJsZVwifSk7XHJcbiAgICB9XHJcbiAgfSlcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5zZXJ2ZXIuZGVsZXRlKCcvcGhvdG9zLzppZCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIGxldCBxdWVyeSA9IFwiQ0FMTCBgZGVsZXRlUGhvdG9gKD8pXCI7XHJcbiAgbGV0IGdldEZpbGVuYW1lID0gXCJDQUxMIGBnZXRQaG90b0J5SURgKD8pXCI7XHJcblxyXG4gIGRiLnF1ZXJ5KCBnZXRGaWxlbmFtZSwgW3JlcS5wYXJhbXMuaWRdLCAoZXJyb3IsIGRhdGEpID0+e1xyXG4gICAgLy9yZXMuanNvbihkYXRhWzBdWzBdLnVybCk7XHJcbiAgICBpZihlcnJvcil7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgbGV0IGZpbGVfdG9fYmVfZGVsZXRlZCA9IGRhdGFbMF1bMF0udXJsO1xyXG4gICAgICBmcy51bmxpbmsoJy4vdXBsb2Fkcy8nK2ZpbGVfdG9fYmVfZGVsZXRlZCwgKGVycm9yKSA9PntcclxuICAgICAgICBpZihlcnJvcil7XHJcbiAgICAgICAgICByZXMuanNvbih7IGRlbFN0YXR1czogZmFsc2UsIG1lc3NhZ2U6IGVycm9yfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICBkYi5xdWVyeShxdWVyeSwgW3JlcS5wYXJhbXMuaWRdLCAoZXJyb3IsIGRlbGV0ZVN0YXR1cykgPT57XHJcbiAgICAgICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgICAgICByZXMuanNvbih7IGRlbFN0YXR1czogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgbGV0IGRlbF9zdWNjZXNzID0gZGVsZXRlU3RhdHVzWzBdWzBdLkRFTF9TVUNDRVNTO1xyXG4gICAgICAgICAgICAgIGlmKGRlbF9zdWNjZXNzID09PSAxKXtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHsgZGVsU3RhdHVzOiBkZWxfc3VjY2VzcywgbWVzc2FnZTpcIlN1Y2Nlc3NmdWxseSBEZWxldGVkXCIgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuanNvbih7IGRlbFN0YXR1czogZGVsX3N1Y2Nlc3MsIG1lc3NhZ2U6IFwiSUQgbm90IGZvdW5kXCIgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gIH0pXHJcbiAgXHJcbiAgXHJcbn0pO1xyXG5cclxuLy8gc2VydmVyLmdldCgnL2VtcGxveWVlc2FwaScsKHJlcSxyZXMpPT57XHJcblxyXG4vLyAgIC8vIGxldCBhbGxFbXBTUCA9XCJDQWxsIGBBbGxfRW1wX0RhdGFgKClcIjtcclxuLy8gICBsZXQgYWxsRW1wU1AgPSBcIlNFTEVDVCAqIEZST00gRW1wbG95ZWVcIlxyXG4vLyAgIGxldCBxdWVyeSA9IGRiLnF1ZXJ5KGFsbEVtcFNQLChlcnJvcixkYXRhLGZpZWxkcykgPT4ge1xyXG4vLyAgICAgaWYoZXJyb3Ipe1xyXG4vLyAgICAgICByZXMuanNvbih7IEVycm9yTWVzc2FnZTplcnJvciB9KVxyXG4vLyAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbi8vICAgICB9XHJcbi8vICAgICBlbHNle1xyXG4vLyAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbi8vICAgICByZXMuanNvbihkYXRhKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIH0pXHJcbi8vIH0pXHJcblxyXG5cclxuLy8gbWV0aG9kIDFcclxuLy8gc2VydmVyLmdldCgnL2VtcGxveWVlc3NwJywgKHJlcSwgcmVzKSA9PiB7XHJcbi8vICAgbGV0IGFsbEVtcFNQID0gXCJDQUxMIGBBbGxfRW1wX0RhdGFgKClcIjtcclxuLy8gICAvL2xldCBhbGxFbXBTUCA9IFwiU0VMRUNUICogRlJPTSBFbXBsb3llZVwiXHJcbi8vICAgbGV0IHF1ZXJ5ID0gZGIucXVlcnkoYWxsRW1wU1AsIChlcnJvciwgZGF0YSwgZmllbGRzKSA9PiB7XHJcbi8vICAgICBpZihlcnJvcil7XHJcbi8vICAgICAgIHJlcy5qc29uKHsgRXJyb3JNZXNzYWdlOiBlcnJvciB9KTtcclxuLy8gICAgIH1cclxuLy8gICAgIGVsc2V7XHJcbi8vICAgICAgIHJlcy5qc29uKGRhdGFbMF0pO1xyXG4vLyAgICAgfVxyXG4gICAgXHJcbi8vICAgfSlcclxuLy8gfSk7XHJcblxyXG4vLyBtZXRob2QgMlxyXG4vLyBzZXJ2ZXIuZ2V0KCcvZW1wbG95ZWUvOmlkJyAsIChyZXEscmVzKSA9PiB7XHJcbi8vICAgbGV0IGVtcF9pZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbi8vICAgbGV0IGVtcFNQID0gXCJDQUxMICdvbmVfZW1wX2RhdGFgKD8pXCI7XHJcbi8vICAgZGIucXVlcnkoZW1wU1AsW2VtcF9pZF0gLCAoZXJyb3IsZGF0YSxmaWVsZHMpID0+e1xyXG4vLyAgICAgaWYoZXJyb3Ipe1xyXG4vLyAgICAgICByZXMuanNvbih7IEVycm9yTWVzc2FnZTogZXJyb3J9KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBlbHNle1xyXG4vLyAgICAgICByZXMuanNvbihkYXRhWzBdKTtcclxuLy8gICAgIH1cclxuLy8gICB9KVxyXG4vLyB9KTtcclxuXHJcbi8vIExPR0lOXHJcbnNlcnZlci5wb3N0KCcvbG9naW4nLCAocmVxLCByZXMpID0+IHtcclxuICBsZXQgZW1haWwgPSByZXEuYm9keS5lbWFpbDtcclxuICBsZXQgcGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZDtcclxuICBsZXQgbG9naW5RdWVyeSA9ICdDQUxMIGBsb2dpbmAoPywgPyknO1xyXG4gIGRiLnF1ZXJ5KGxvZ2luUXVlcnksIFtlbWFpbCwgcGFzc3dvcmRdLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgcmVzLmpzb24oeyBFcnJvck1lc3NhZ2U6IGVycm9yfSk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBpZihkYXRhWzBdLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgcmVzLmpzb24oeyBkYXRhOiBkYXRhWzBdLCBsb2dpbjogZmFsc2UsIG1lc3NhZ2U6IFwiU29ycnksIHlvdSBoYXZlIHByb3ZpZGVkIHdyb25nIGNyZWRlbnRpYWxzXCJ9KVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLmpzb24oeyBcclxuICAgICAgICAgICAgVXNlcklEOiBkYXRhWzBdLlVzZXJJRCwgXHJcbiAgICAgICAgICAgIGVtYWlsOiBkYXRhWzBdLmVtYWlsLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhWzBdLFxyXG4gICAgICAgICAgICBsb2dpbjogdHJ1ZSwgXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTG9naW4gc3VjY2Vzc2Z1bFwifSk7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgQXV0aCBLZXlcclxuICAgICAgfVxyXG5cclxuICAgICAgXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbn0pO1xyXG5cclxuLy8gc2VydmVyLnBvc3QoJy9zaWdudXAnLCAocmVxLCByZXMpID0+IHtcclxuLy8gICBsZXQgZW1haWwgPSByZXEuYm9keS5lbWFpbDtcclxuLy8gICBsZXQgcGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZDtcclxuLy8gICBsZXQgbmFtZSA9IHJlcS5ib2R5Lm5hbWU7XHJcbiAgXHJcbi8vICAgbGV0IHNpZ251cFF1ZXJ5ID0gXCJDQUxMIGBuZXd1c2VyYCg/LCA/LCA/KVwiO1xyXG4vLyAgIGRiLnF1ZXJ5KHNpZ251cFF1ZXJ5LCBbZW1haWwsIHBhc3N3b3JkLG5hbWVdLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuLy8gICAgIGlmKGVycm9yKXtcclxuLy8gICAgICAgcmVzLmpzb24oeyBFcnJvck1lc3NhZ2U6IGVycm9yfSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgZWxzZXtcclxuLy8gICAgICByZXMuanNvbih7IGRhdGE6IGRhdGFbMF0sIHNpZ251cDogdHJ1ZSwgbWVzc2FnZTogXCJTaWdudXAgc3VjY2Vzc1wifSlcclxuLy8gfSAgXHJcbi8vIH0pICAgXHJcbi8vIH0pO1xyXG5cclxuLy8gU0lHTlVQXHJcbnNlcnZlci5wb3N0KCcvc2lnbnVwJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgLy8gcmVxLmJvZHkgaXMgdGFyZ2V0aW5nIHRoZSBjbGllbnQgc2lkZVxyXG4gIGxldCBlbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xyXG4gIGxldCBwYXNzd29yZCA9IHJlcS5ib2R5LnBhc3N3b3JkO1xyXG4gIGxldCBuYW1lID0gcmVxLmJvZHkubmFtZTtcclxuICBcclxuICBsZXQgc2lnbnVwUXVlcnkgPSBcIkNBTEwgYG5ld3VzZXJgKD8sPyw/KVwiO1xyXG4gIGRiLnF1ZXJ5KHNpZ251cFF1ZXJ5LCBbZW1haWwsIHBhc3N3b3JkLG5hbWVdLCAoZXJyb3IsIGRhdGEsZmllbGRzKSA9PiB7XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgIHJlcy5qc29uKHsgbmV3dXNlcjogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pXHJcbiAgICAgIC8vIHJlcy5qc29uKHsgRXJyb3JNZXNzYWdlOiBlcnJvcn0pO1xyXG4gICAgICAvLyByZXMuanNvbih7bmV3dXNlcjpmYWxzZSxtZXNzYWdlOmVycm9yfSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIFxyXG4gICAgICByZXMuanNvbih7IG5ld3VzZXI6IHRydWUsIG1lc3NhZ2U6IFwiTmV3IHVzZXIgYWRkZWQgdG8gdGhlIGRiXCJ9KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBcclxuICAgIFxyXG4gIH0pXHJcblxyXG59KVxyXG5cclxuLy8gVXBkYXRlXHJcbnNlcnZlci5wdXQoJy91cGRhdGVVc2VyJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IElEID0gcmVxLmJvZHkuSUQ7XHJcbiAgbGV0IGVtYWlsID0gcmVxLmJvZHkuZW1haWw7XHJcbiAgbGV0IHBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQ7XHJcbiAgbGV0IHF1ZXJ5ID0gXCJDQUxMIGB1cGRhdGVVc2VyYCg/LCA/LCA/KVwiO1xyXG4gIGRiLnF1ZXJ5KHF1ZXJ5LCBbSUQsIGVtYWlsLCBwYXNzd29yZF0sIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgaWYoZXJyb3Ipe1xyXG4gICAgICByZXMuanNvbih7IHVwZGF0ZTogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgcmVzLmpzb24oeyB1cGRhdGU6IHRydWUsIG1lc3NhZ2U6IFwiVXNlciBzdWNjZXNzZnVsbHkgdXBkYXRlZFwifSk7XHJcbiAgICB9XHJcbiAgfSlcclxufSk7XHJcblxyXG5cclxuXHJcbnNlcnZlci5kZWxldGUoJy9kZWxldGV1c2VyLzppZCcsKHJlcSxyZXMpID0+IHtcclxuICAvLyBsZXQgSUQgPSByZXEucGFyYW1zLmlkO1xyXG4gIGxldCBxdWVyeSA9IFwiQ0FMTCBgZGVsZXRlVXNlcmAoPylcIjtcclxuICAvLyBkYi5xdWVyeSAocXVlcnksW0lEXSwoZXJyb3IsZGF0YSkgPT57XHJcbiAgICBkYi5xdWVyeSAocXVlcnksW3JlcS5wYXJhbXMuaWRdLChlcnJvcixkYXRhKSA9PntcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgcmVzLmpzb24oe2RlbGV0ZVVzZXI6IGZhbHNlLG1lc3NhZ2U6ZXJyb3J9KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHJlcy5qc29uKHsgZGVsZXRlVXNlcjogdHJ1ZSwgbWVzc2FnZTogXCJVc2VyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5IFwifSk7XHJcbiAgICB9XHJcbiAgfSlcclxufSkgXHJcblxyXG5zZXJ2ZXIuZ2V0KCcvdXNlci86aWQnLCAocmVxLCByZXMpID0+IHtcclxuICBsZXQgSUQgPSByZXEucGFyYW1zLmlkO1xyXG4gIGxldCBxdWVyeSA9IFwiQ0FMTCBgZ2V0VXNlcmAoPylcIjtcclxuICBkYi5xdWVyeShxdWVyeSwgW0lEXSwgKGVycm9yLCBkYXRhKSA9PiB7XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgIHJlcy5qc29uKHsgdXNlcjogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBpZihkYXRhWzBdLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgcmVzLmpzb24oeyB1c2VyOiBmYWxzZSwgbWVzc2FnZTogXCJObyB1c2VyIHdpdGggdGhhdCBJRCBleGlzdHNcIiB9KVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLmpzb24oeyB1c2VyOiB0cnVlLCBtZXNzYWdlOiBcIlVzZXIgZm91bmRcIiwgdXNlckRhdGE6IGRhdGFbMF19KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pXHJcbn0pXHJcblxyXG4vL0dldCBtZWFucyBjbGllbnQgaXMgYXNraW5nXHJcbi8vUG9zdCBpcyBnaXZpbmcgc29tZSBleHRyYSBpbmZvcm1hdGlvbiBhbmQgYWxzbyBhc2tpbmcgZm9yIGRhdGFcclxuXHJcbi8vIHJlcSBpcyBkYXRhIGZyb20gdGhlIGNsaWVudCB0byB0aGUgc2VydmVyXHJcbi8vIHJlcyBpcyBkYXRhIGZyb20gdGhlIHNlcnZlciB0byB0aGUgY2xpZW50XHJcbnNlcnZlci5nZXQoJy9waG90b3NhcGknICwgKHJlcSxyZXMpID0+IHtcclxuICAgIHJlcy5qc29uKGpzb25EYXRhKTtcclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG5zZXJ2ZXIuZ2V0KCcvcGhvdG9zYXBpLzpwaG90b2lkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IGlkX2Zyb21fY2xpZW50ID0gcmVxLnBhcmFtcy5waG90b2lkO1xyXG4gIHJlcy5qc29uKGpzb25EYXRhLmZpbmQoIHggPT4geC5pZCA9PSAgaWRfZnJvbV9jbGllbnQgKSk7XHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuc2VydmVyLnBvc3QoJy9waG90b3NhcGknLCAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgbGV0IG5ld1Bob3RvID0ge1xyXG4gICAgYWxidW1JZDogcmVxLmJvZHkuYWxidW1JZCxcclxuICAgIGlkOnJlcS5ib2R5LmlkLFxyXG4gICAgdGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxyXG4gICAgdXJsOnJlcS5ib2R5LnVybCxcclxuICAgIHRodW1ibmFpbFVybDogcmVxLmJvZHkudGh1bWJuYWlsVXJsXHJcbiAgfVxyXG5cclxuICAvLyBjb25zb2xlLmxvZyhuZXdQaG90bylcclxuXHJcbiAganNvbkRhdGEucHVzaChuZXdQaG90byk7XHJcbiAgcmVzLmpzb24obmV3UGhvdG8pO1xyXG59KTtcclxuXHJcblxyXG5cclxuc2VydmVyLnB1dCgnL3Bob3Rvc2FwaS86aWQnLCAocmVxLCByZXMpID0+IHtcclxubGV0IHBob3RvaW5kZXggPSBqc29uRGF0YS5maW5kSW5kZXgoIHggPT4geC5pZCA9PSByZXEucGFyYW1zLmlkKTtcclxuY29uc29sZS5sb2cocGhvdG9pbmRleCk7XHJcbmlmKHBob3RvaW5kZXggIT09IC0xKXtcclxuICBsZXQgbmV3UGhvdG9EYXRhID0ge1xyXG4gICAgYWxidW1JZDogcmVxLmJvZHkuYWxidW1JZCxcclxuICAgIGlkOnJlcS5ib2R5LmlkLFxyXG4gICAgdGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxyXG4gICAgdXJsOnJlcS5ib2R5LnVybCxcclxuICAgIHRodW1ibmFpbFVybDogcmVxLmJvZHkudGh1bWJuYWlsVXJsXHJcbiAgfVxyXG4gIGpzb25EYXRhW3Bob3RvaW5kZXhdID0gbmV3UGhvdG9EYXRhO1xyXG4gIHJlcy5qc29uKGpzb25EYXRhW3Bob3RvaW5kZXhdKTtcclxufVxyXG5lbHNlXHJcbiAgcmVzLnN0YXR1cyg0MDApLmpzb24oIHsgbWVzc2FnZTogXCJUaGVyZSBpcyBubyBwaG90byB3aXRoIElEOiBcIiArIHJlcS5wYXJhbXMuaWR9KVxyXG5cclxufSlcclxuXHJcblxyXG5cclxuc2VydmVyLmRlbGV0ZSgnL3Bob3Rvc2FwaS86aWQnLCAocmVxLCByZXMpID0+e1xyXG5sZXQgcGhvdG9pbmRleCA9IGpzb25EYXRhLmZpbmRJbmRleCggeCA9PiB4LmlkID09IHJlcS5wYXJhbXMuaWQpO1xyXG5pZihwaG90b2luZGV4ICE9PSAtMSl7XHJcbiAganNvbkRhdGEuc3BsaWNlKHBob3RvaW5kZXgsIDEpO1xyXG4gIHJlcy5qc29uKHsgbWVzc2FnZTogXCJQaG90byBJRDogXCIgKyByZXEucGFyYW1zLmlkICsgXCIgZGVsZXRlZFwifSk7XHJcbn1cclxuZWxzZSAgXHJcbiAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkVSUk9SOiBQaG90byBJRDogXCIgKyByZXEucGFyYW1zLmlkICsgXCIgbm90IGZvdW5kXCJ9KTtcclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBZb3UgY2FuIGdpdmUgcG9ydCBudW1iZXIgb2YgeW91ciBjaG9pY2Vcclxuc2VydmVyLmxpc3Rlbig0NDAwLCBmdW5jdGlvbigpIHtcclxuICAgICBjb25zb2xlLmxvZygnU2VydmVyIGlzIHN1Y2Nlc3NmdWxseSBydW5uaW5nIG9uIHBvcnQgNDQwMCcpO1xyXG4gICAgLy8gIGNvbnNvbGUubG9nKHByb2Nlc3MuZW52LkRCUE9SVCk7XHJcbiAgICAgXHJcbn0pIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBRUE7Ozs7Ozs7O0FBTkE7QUFDQTtBQUc0QjtBQUM1QjtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0EsSUFBTUEsRUFBRSxHQUFHQyxrQkFBTUMsZ0JBQU4sQ0FBd0I7RUFDakM7RUFD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","map":{"version":3,"names":["db","mysql","createConnection","host","process","env","DBHOST","port","DBPOST","user","DBUSER","password","DBPASSWORD","database","jsonData","server","use","express","json","connect","error","console","log","storage","multer","diskStorage","destination","req","file","cb","filename","originalname","fileupload","post","single","res","get","query","allphotos","message","params","photoid","photo","body","albumId_fromC","title_fromC","url_fromC","tn_fromC","newphoto","getFilename","id","data","file_to_be_deleted","url","fs","unlink","delStatus","deleteStatus","del_success","DEL_SUCCESS","email","loginQuery","ErrorMessage","length","login","UserID","name","signupQuery","fields","newuser","put","ID","update","deleteUser","userData","id_from_client","find","x","newPhoto","albumId","title","thumbnailUrl","push","photoindex","findIndex","newPhotoData","status","splice","listen"],"sourceRoot":"D:\\VanArt Assignments\\John\\practice class assignments\\28-April- Photo album App\\Server\\","sources":["server.js"],"sourcesContent":["import express, { json } from 'express';\r\n// import express from 'express';\r\n// import mysql from 'mysql'; // create an instance\r\nimport mysql from 'mysql2';\r\nimport cors from 'cors';\r\nimport multer from 'multer';//multer is only used for uploading the file\r\n//const mysql = require(\"mysql\");\r\nimport fs from 'fs'; \r\n\r\n\r\n// connection with the DB\r\n// const db = mysql.createConnection ({\r\n//   host: 'localhost',\r\n//   port: 3306,\r\n//   user:'root',\r\n//   password:'',\r\n//   // database:'Employees'\r\n//   database:'Photogallery'\r\n\r\n// });\r\n\r\n// for production\r\nconst db = mysql.createConnection ({\r\n  // host: 'http://139.59.20.112/',\r\n  // port: 3306,\r\n  // user:'myadmin',\r\n  // password:'MySQL@dmin!12345',\r\n  // database:'Employees'\r\n  // database:'Photogallery'\r\n  host: process.env.DBHOST,\r\n  port: process.env.DBPOST,\r\n  user: process.env.DBUSER,\r\n  password:process.env.DBPASSWORD,\r\n  database:'Photogallery'\r\n\r\n});\r\n\r\nlet jsonData = [\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 1,\r\n      \"title\": \"accusamus beatae ad facilis cum similique qui sunt\",\r\n      \"url\": \"https://via.placeholder.com/600/92c952\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/92c952\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 2,\r\n      \"title\": \"reprehenderit est deserunt velit ipsam\",\r\n      \"url\": \"https://via.placeholder.com/600/771796\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/771796\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 3,\r\n      \"title\": \"officia porro iure quia iusto qui ipsa ut modi\",\r\n      \"url\": \"https://via.placeholder.com/600/24f355\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/24f355\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 4,\r\n      \"title\": \"culpa odio esse rerum omnis laboriosam voluptate repudiandae\",\r\n      \"url\": \"https://via.placeholder.com/600/d32776\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/d32776\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 5,\r\n      \"title\": \"natus nisi omnis corporis facere molestiae rerum in\",\r\n      \"url\": \"https://via.placeholder.com/600/f66b97\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/f66b97\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 6,\r\n      \"title\": \"accusamus ea aliquid et amet sequi nemo\",\r\n      \"url\": \"https://via.placeholder.com/600/56a8c2\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/56a8c2\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 7,\r\n      \"title\": \"officia delectus consequatur vero aut veniam explicabo molestias\",\r\n      \"url\": \"https://via.placeholder.com/600/b0f7cc\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/b0f7cc\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 8,\r\n      \"title\": \"aut porro officiis laborum odit ea laudantium corporis\",\r\n      \"url\": \"https://via.placeholder.com/600/54176f\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/54176f\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 9,\r\n      \"title\": \"qui eius qui autem sed\",\r\n      \"url\": \"https://via.placeholder.com/600/51aa97\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/51aa97\"\r\n    }\r\n]\r\n\r\n\r\nconst server = express();\r\nserver.use(cors());\r\n// This tells node to apply json format to all data\r\nserver.use(express.json());\r\nserver.use(express.static('uploads'));\r\n\r\n\r\n\r\ndb.connect( (error) => {\r\n  if(error) console.log(error);\r\n  else console.log('MySQL is connected to Node');\r\n});\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    cb(null, './uploads')\r\n  },\r\n  filename: function (req, file, cb) {\r\n    // const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n    cb(null, file.originalname)\r\n  }\r\n})\r\n\r\nconst fileupload = multer({ storage: storage});\r\n\r\nserver.post('/upload', fileupload.single(\"file_fromC\"), (req, res) => {\r\n  res.json({ fileupload: true });\r\n});\r\n\r\n\r\nserver.get('/photos', (req, res) => {\r\n  let query = \"CALL `getPhotos`()\";\r\n  db.query( query, (error, allphotos ) =>{\r\n    if(error){\r\n      res.json({ allphotos:false, message: error });\r\n    }\r\n    else{\r\n      res.json({ allphotos: allphotos[0], message:\"returned photos\"});\r\n    }\r\n  })\r\n});\r\n\r\nserver.get('/photos/:photoid', (req, res) => {\r\n  let query = \"CALL `getPhotoByID`(?)\";\r\n  db.query( query, [req.params.photoid], (error, photo ) =>{\r\n    if(error){\r\n      res.json({ photo: false, message: error });\r\n    }\r\n    else{\r\n      res.json({ photo: photo[0][0], message: \"Returned photo by ID\"});\r\n    }\r\n  })\r\n})\r\n\r\n\r\n\r\nserver.post('/photos', (req,res) => {\r\n  let query = \"CALL `addPhoto`(?, ?, ?, ?)\";\r\n  db.query( query, [req.body.albumId_fromC, req.body.title_fromC, req.body.url_fromC, req.body.tn_fromC], (error, newphoto) => {\r\n    if(error){\r\n      res.json({ newphoto: false, message: error });\r\n    }\r\n    else{\r\n      res.json({ newphoto: newphoto[0], message:\"Photo added to the table\"});\r\n    }\r\n  })\r\n});\r\n\r\n\r\n\r\n\r\nserver.delete('/photos/:id', (req, res) => {\r\n  let query = \"CALL `deletePhoto`(?)\";\r\n  let getFilename = \"CALL `getPhotoByID`(?)\";\r\n\r\n  db.query( getFilename, [req.params.id], (error, data) =>{\r\n    //res.json(data[0][0].url);\r\n    if(error){\r\n\r\n    }\r\n    else{\r\n      let file_to_be_deleted = data[0][0].url;\r\n      fs.unlink('./uploads/'+file_to_be_deleted, (error) =>{\r\n        if(error){\r\n          res.json({ delStatus: false, message: error});\r\n        }\r\n        else{\r\n          db.query(query, [req.params.id], (error, deleteStatus) =>{\r\n            if(error){\r\n              res.json({ delStatus: false, message: error });\r\n            }\r\n            else{\r\n              let del_success = deleteStatus[0][0].DEL_SUCCESS;\r\n              if(del_success === 1){\r\n                res.json({ delStatus: del_success, message:\"Successfully Deleted\" });\r\n              }\r\n              else{\r\n                res.json({ delStatus: del_success, message: \"ID not found\" });\r\n              }\r\n              \r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n    \r\n  })\r\n  \r\n  \r\n});\r\n\r\n// server.get('/employeesapi',(req,res)=>{\r\n\r\n//   // let allEmpSP =\"CAll `All_Emp_Data`()\";\r\n//   let allEmpSP = \"SELECT * FROM Employee\"\r\n//   let query = db.query(allEmpSP,(error,data,fields) => {\r\n//     if(error){\r\n//       res.json({ ErrorMessage:error })\r\n//       // console.log(error);\r\n//     }\r\n//     else{\r\n//     // console.log(data);\r\n//     res.json(data);\r\n//   }\r\n\r\n//   })\r\n// })\r\n\r\n\r\n// method 1\r\n// server.get('/employeessp', (req, res) => {\r\n//   let allEmpSP = \"CALL `All_Emp_Data`()\";\r\n//   //let allEmpSP = \"SELECT * FROM Employee\"\r\n//   let query = db.query(allEmpSP, (error, data, fields) => {\r\n//     if(error){\r\n//       res.json({ ErrorMessage: error });\r\n//     }\r\n//     else{\r\n//       res.json(data[0]);\r\n//     }\r\n    \r\n//   })\r\n// });\r\n\r\n// method 2\r\n// server.get('/employee/:id' , (req,res) => {\r\n//   let emp_id = req.params.id;\r\n//   let empSP = \"CALL 'one_emp_data`(?)\";\r\n//   db.query(empSP,[emp_id] , (error,data,fields) =>{\r\n//     if(error){\r\n//       res.json({ ErrorMessage: error});\r\n//     }\r\n\r\n//     else{\r\n//       res.json(data[0]);\r\n//     }\r\n//   })\r\n// });\r\n\r\n// LOGIN\r\nserver.post('/login', (req, res) => {\r\n  let email = req.body.email;\r\n  let password = req.body.password;\r\n  let loginQuery = 'CALL `login`(?, ?)';\r\n  db.query(loginQuery, [email, password], (error, data) => {\r\n    if(error){\r\n      res.json({ ErrorMessage: error});\r\n    }\r\n    else{\r\n      if(data[0].length === 0){\r\n        res.json({ data: data[0], login: false, message: \"Sorry, you have provided wrong credentials\"})\r\n      }\r\n      else{\r\n        res.json({ \r\n            UserID: data[0].UserID, \r\n            email: data[0].email,\r\n            data: data[0],\r\n            login: true, \r\n            message: \"Login successful\"});\r\n            // create the Auth Key\r\n      }\r\n\r\n      \r\n    }\r\n  })\r\n\r\n});\r\n\r\n// server.post('/signup', (req, res) => {\r\n//   let email = req.body.email;\r\n//   let password = req.body.password;\r\n//   let name = req.body.name;\r\n  \r\n//   let signupQuery = \"CALL `newuser`(?, ?, ?)\";\r\n//   db.query(signupQuery, [email, password,name], (error, data) => {\r\n//     if(error){\r\n//       res.json({ ErrorMessage: error});\r\n//     }\r\n\r\n//     else{\r\n//      res.json({ data: data[0], signup: true, message: \"Signup success\"})\r\n// }  \r\n// })   \r\n// });\r\n\r\n// SIGNUP\r\nserver.post('/signup', (req, res) => {\r\n  // req.body is targeting the client side\r\n  let email = req.body.email;\r\n  let password = req.body.password;\r\n  let name = req.body.name;\r\n  \r\n  let signupQuery = \"CALL `newuser`(?,?,?)\";\r\n  db.query(signupQuery, [email, password,name], (error, data,fields) => {\r\n    if(error){\r\n      res.json({ newuser: false, message: error })\r\n      // res.json({ ErrorMessage: error});\r\n      // res.json({newuser:false,message:error})\r\n    }\r\n    else{\r\n      \r\n      res.json({ newuser: true, message: \"New user added to the db\"});\r\n      }\r\n  \r\n      \r\n    \r\n  })\r\n\r\n})\r\n\r\n// Update\r\nserver.put('/updateUser', (req, res) => {\r\n  let ID = req.body.ID;\r\n  let email = req.body.email;\r\n  let password = req.body.password;\r\n  let query = \"CALL `updateUser`(?, ?, ?)\";\r\n  db.query(query, [ID, email, password], (error, data) => {\r\n    if(error){\r\n      res.json({ update: false, message: error });\r\n    }\r\n    else{\r\n      res.json({ update: true, message: \"User successfully updated\"});\r\n    }\r\n  })\r\n});\r\n\r\n\r\n\r\nserver.delete('/deleteuser/:id',(req,res) => {\r\n  // let ID = req.params.id;\r\n  let query = \"CALL `deleteUser`(?)\";\r\n  // db.query (query,[ID],(error,data) =>{\r\n    db.query (query,[req.params.id],(error,data) =>{\r\n    if(error){\r\n      res.json({deleteUser: false,message:error});\r\n    }\r\n    else{\r\n      res.json({ deleteUser: true, message: \"User deleted successfully \"});\r\n    }\r\n  })\r\n}) \r\n\r\nserver.get('/user/:id', (req, res) => {\r\n  let ID = req.params.id;\r\n  let query = \"CALL `getUser`(?)\";\r\n  db.query(query, [ID], (error, data) => {\r\n    if(error){\r\n      res.json({ user: false, message: error })\r\n    }\r\n    else{\r\n      if(data[0].length === 0){\r\n        res.json({ user: false, message: \"No user with that ID exists\" })\r\n      }\r\n      else{\r\n        res.json({ user: true, message: \"User found\", userData: data[0]});\r\n      }\r\n    }\r\n  })\r\n})\r\n\r\n//Get means client is asking\r\n//Post is giving some extra information and also asking for data\r\n\r\n// req is data from the client to the server\r\n// res is data from the server to the client\r\nserver.get('/photosapi' , (req,res) => {\r\n    res.json(jsonData);\r\n\r\n});\r\n\r\n\r\n\r\nserver.get('/photosapi/:photoid', (req, res) => {\r\n  let id_from_client = req.params.photoid;\r\n  res.json(jsonData.find( x => x.id ==  id_from_client ));\r\n\r\n});\r\n\r\n\r\n\r\nserver.post('/photosapi', (req, res) => {\r\n\r\n  let newPhoto = {\r\n    albumId: req.body.albumId,\r\n    id:req.body.id,\r\n    title: req.body.title,\r\n    url:req.body.url,\r\n    thumbnailUrl: req.body.thumbnailUrl\r\n  }\r\n\r\n  // console.log(newPhoto)\r\n\r\n  jsonData.push(newPhoto);\r\n  res.json(newPhoto);\r\n});\r\n\r\n\r\n\r\nserver.put('/photosapi/:id', (req, res) => {\r\nlet photoindex = jsonData.findIndex( x => x.id == req.params.id);\r\nconsole.log(photoindex);\r\nif(photoindex !== -1){\r\n  let newPhotoData = {\r\n    albumId: req.body.albumId,\r\n    id:req.body.id,\r\n    title: req.body.title,\r\n    url:req.body.url,\r\n    thumbnailUrl: req.body.thumbnailUrl\r\n  }\r\n  jsonData[photoindex] = newPhotoData;\r\n  res.json(jsonData[photoindex]);\r\n}\r\nelse\r\n  res.status(400).json( { message: \"There is no photo with ID: \" + req.params.id})\r\n\r\n})\r\n\r\n\r\n\r\nserver.delete('/photosapi/:id', (req, res) =>{\r\nlet photoindex = jsonData.findIndex( x => x.id == req.params.id);\r\nif(photoindex !== -1){\r\n  jsonData.splice(photoindex, 1);\r\n  res.json({ message: \"Photo ID: \" + req.params.id + \" deleted\"});\r\n}\r\nelse  \r\n  res.status(400).json({ message: \"ERROR: Photo ID: \" + req.params.id + \" not found\"});\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n// You can give port number of your choice\r\nserver.listen(4400, function() {\r\n     console.log('Server is successfully running on port 4400');\r\n    //  console.log(process.env.DBPORT);\r\n     \r\n})"],"mappings":"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"}},"mtime":1657044493914},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\28-April- Photo album App\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\28-April- Photo album App\\\\server\",\"filename\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\28-April- Photo album App\\\\server\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\VanArt Assignments\\\\John\\\\practice class assignments\\\\28-April- Photo album App\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _express = _interopRequireWildcard(require(\"express\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql2\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nrequire(\"dot/env/confi\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// import express from 'express';\n// import mysql from 'mysql'; // create an instance\n//multer is only used for uploading the file\n//const mysql = require(\"mysql\");\n// connection with the DB\n// const db = mysql.createConnection ({\n//   host: 'localhost',\n//   port: 3306,\n//   user:'root',\n//   password:'',\n//   // database:'Employees'\n//   database:'Photogallery'\n// });\n// for production\nvar db = _mysql[\"default\"].createConnection({\n  // host: 'http://139.59.20.112/',\n  // port: 3306,\n  // user:'myadmin',\n  // password:'MySQL@dmin!12345',\n  // database:'Employees'\n  // database:'Photogallery'\n  host: process.env.DBHOST,\n  port: process.env.DBPOST,\n  user: process.env.DBUSER,\n  password: process.env.DBPASSWORD,\n  database: 'Photogallery'\n});\n\nvar jsonData = [{\n  \"albumId\": 1,\n  \"id\": 1,\n  \"title\": \"accusamus beatae ad facilis cum similique qui sunt\",\n  \"url\": \"https://via.placeholder.com/600/92c952\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/92c952\"\n}, {\n  \"albumId\": 1,\n  \"id\": 2,\n  \"title\": \"reprehenderit est deserunt velit ipsam\",\n  \"url\": \"https://via.placeholder.com/600/771796\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/771796\"\n}, {\n  \"albumId\": 1,\n  \"id\": 3,\n  \"title\": \"officia porro iure quia iusto qui ipsa ut modi\",\n  \"url\": \"https://via.placeholder.com/600/24f355\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/24f355\"\n}, {\n  \"albumId\": 1,\n  \"id\": 4,\n  \"title\": \"culpa odio esse rerum omnis laboriosam voluptate repudiandae\",\n  \"url\": \"https://via.placeholder.com/600/d32776\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/d32776\"\n}, {\n  \"albumId\": 1,\n  \"id\": 5,\n  \"title\": \"natus nisi omnis corporis facere molestiae rerum in\",\n  \"url\": \"https://via.placeholder.com/600/f66b97\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/f66b97\"\n}, {\n  \"albumId\": 1,\n  \"id\": 6,\n  \"title\": \"accusamus ea aliquid et amet sequi nemo\",\n  \"url\": \"https://via.placeholder.com/600/56a8c2\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/56a8c2\"\n}, {\n  \"albumId\": 1,\n  \"id\": 7,\n  \"title\": \"officia delectus consequatur vero aut veniam explicabo molestias\",\n  \"url\": \"https://via.placeholder.com/600/b0f7cc\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/b0f7cc\"\n}, {\n  \"albumId\": 1,\n  \"id\": 8,\n  \"title\": \"aut porro officiis laborum odit ea laudantium corporis\",\n  \"url\": \"https://via.placeholder.com/600/54176f\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/54176f\"\n}, {\n  \"albumId\": 1,\n  \"id\": 9,\n  \"title\": \"qui eius qui autem sed\",\n  \"url\": \"https://via.placeholder.com/600/51aa97\",\n  \"thumbnailUrl\": \"https://via.placeholder.com/150/51aa97\"\n}];\nvar server = (0, _express[\"default\"])();\nserver.use((0, _cors[\"default\"])()); // This tells node to apply json format to all data\n\nserver.use(_express[\"default\"].json());\nserver.use(_express[\"default\"][\"static\"]('uploads'));\ndb.connect(function (error) {\n  if (error) console.log(error);else console.log('MySQL is connected to Node');\n});\n\nvar storage = _multer[\"default\"].diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './uploads');\n  },\n  filename: function filename(req, file, cb) {\n    // const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\n    cb(null, file.originalname);\n  }\n});\n\nvar fileupload = (0, _multer[\"default\"])({\n  storage: storage\n});\nserver.post('/upload', fileupload.single(\"file_fromC\"), function (req, res) {\n  res.json({\n    fileupload: true\n  });\n});\nserver.get('/photos', function (req, res) {\n  var query = \"CALL `getPhotos`()\";\n  db.query(query, function (error, allphotos) {\n    if (error) {\n      res.json({\n        allphotos: false,\n        message: error\n      });\n    } else {\n      res.json({\n        allphotos: allphotos[0],\n        message: \"returned photos\"\n      });\n    }\n  });\n});\nserver.get('/photos/:photoid', function (req, res) {\n  var query = \"CALL `getPhotoByID`(?)\";\n  db.query(query, [req.params.photoid], function (error, photo) {\n    if (error) {\n      res.json({\n        photo: false,\n        message: error\n      });\n    } else {\n      res.json({\n        photo: photo[0][0],\n        message: \"Returned photo by ID\"\n      });\n    }\n  });\n});\nserver.post('/photos', function (req, res) {\n  var query = \"CALL `addPhoto`(?, ?, ?, ?)\";\n  db.query(query, [req.body.albumId_fromC, req.body.title_fromC, req.body.url_fromC, req.body.tn_fromC], function (error, newphoto) {\n    if (error) {\n      res.json({\n        newphoto: false,\n        message: error\n      });\n    } else {\n      res.json({\n        newphoto: newphoto[0],\n        message: \"Photo added to the table\"\n      });\n    }\n  });\n});\nserver[\"delete\"]('/photos/:id', function (req, res) {\n  var query = \"CALL `deletePhoto`(?)\";\n  var getFilename = \"CALL `getPhotoByID`(?)\";\n  db.query(getFilename, [req.params.id], function (error, data) {\n    //res.json(data[0][0].url);\n    if (error) {} else {\n      var file_to_be_deleted = data[0][0].url;\n\n      _fs[\"default\"].unlink('./uploads/' + file_to_be_deleted, function (error) {\n        if (error) {\n          res.json({\n            delStatus: false,\n            message: error\n          });\n        } else {\n          db.query(query, [req.params.id], function (error, deleteStatus) {\n            if (error) {\n              res.json({\n                delStatus: false,\n                message: error\n              });\n            } else {\n              var del_success = deleteStatus[0][0].DEL_SUCCESS;\n\n              if (del_success === 1) {\n                res.json({\n                  delStatus: del_success,\n                  message: \"Successfully Deleted\"\n                });\n              } else {\n                res.json({\n                  delStatus: del_success,\n                  message: \"ID not found\"\n                });\n              }\n            }\n          });\n        }\n      });\n    }\n  });\n}); // server.get('/employeesapi',(req,res)=>{\n//   // let allEmpSP =\"CAll `All_Emp_Data`()\";\n//   let allEmpSP = \"SELECT * FROM Employee\"\n//   let query = db.query(allEmpSP,(error,data,fields) => {\n//     if(error){\n//       res.json({ ErrorMessage:error })\n//       // console.log(error);\n//     }\n//     else{\n//     // console.log(data);\n//     res.json(data);\n//   }\n//   })\n// })\n// method 1\n// server.get('/employeessp', (req, res) => {\n//   let allEmpSP = \"CALL `All_Emp_Data`()\";\n//   //let allEmpSP = \"SELECT * FROM Employee\"\n//   let query = db.query(allEmpSP, (error, data, fields) => {\n//     if(error){\n//       res.json({ ErrorMessage: error });\n//     }\n//     else{\n//       res.json(data[0]);\n//     }\n//   })\n// });\n// method 2\n// server.get('/employee/:id' , (req,res) => {\n//   let emp_id = req.params.id;\n//   let empSP = \"CALL 'one_emp_data`(?)\";\n//   db.query(empSP,[emp_id] , (error,data,fields) =>{\n//     if(error){\n//       res.json({ ErrorMessage: error});\n//     }\n//     else{\n//       res.json(data[0]);\n//     }\n//   })\n// });\n// LOGIN\n\nserver.post('/login', function (req, res) {\n  var email = req.body.email;\n  var password = req.body.password;\n  var loginQuery = 'CALL `login`(?, ?)';\n  db.query(loginQuery, [email, password], function (error, data) {\n    if (error) {\n      res.json({\n        ErrorMessage: error\n      });\n    } else {\n      if (data[0].length === 0) {\n        res.json({\n          data: data[0],\n          login: false,\n          message: \"Sorry, you have provided wrong credentials\"\n        });\n      } else {\n        res.json({\n          UserID: data[0].UserID,\n          email: data[0].email,\n          data: data[0],\n          login: true,\n          message: \"Login successful\"\n        }); // create the Auth Key\n      }\n    }\n  });\n}); // server.post('/signup', (req, res) => {\n//   let email = req.body.email;\n//   let password = req.body.password;\n//   let name = req.body.name;\n//   let signupQuery = \"CALL `newuser`(?, ?, ?)\";\n//   db.query(signupQuery, [email, password,name], (error, data) => {\n//     if(error){\n//       res.json({ ErrorMessage: error});\n//     }\n//     else{\n//      res.json({ data: data[0], signup: true, message: \"Signup success\"})\n// }  \n// })   \n// });\n// SIGNUP\n\nserver.post('/signup', function (req, res) {\n  // req.body is targeting the client side\n  var email = req.body.email;\n  var password = req.body.password;\n  var name = req.body.name;\n  var signupQuery = \"CALL `newuser`(?,?,?)\";\n  db.query(signupQuery, [email, password, name], function (error, data, fields) {\n    if (error) {\n      res.json({\n        newuser: false,\n        message: error\n      }); // res.json({ ErrorMessage: error});\n      // res.json({newuser:false,message:error})\n    } else {\n      res.json({\n        newuser: true,\n        message: \"New user added to the db\"\n      });\n    }\n  });\n}); // Update\n\nserver.put('/updateUser', function (req, res) {\n  var ID = req.body.ID;\n  var email = req.body.email;\n  var password = req.body.password;\n  var query = \"CALL `updateUser`(?, ?, ?)\";\n  db.query(query, [ID, email, password], function (error, data) {\n    if (error) {\n      res.json({\n        update: false,\n        message: error\n      });\n    } else {\n      res.json({\n        update: true,\n        message: \"User successfully updated\"\n      });\n    }\n  });\n});\nserver[\"delete\"]('/deleteuser/:id', function (req, res) {\n  // let ID = req.params.id;\n  var query = \"CALL `deleteUser`(?)\"; // db.query (query,[ID],(error,data) =>{\n\n  db.query(query, [req.params.id], function (error, data) {\n    if (error) {\n      res.json({\n        deleteUser: false,\n        message: error\n      });\n    } else {\n      res.json({\n        deleteUser: true,\n        message: \"User deleted successfully \"\n      });\n    }\n  });\n});\nserver.get('/user/:id', function (req, res) {\n  var ID = req.params.id;\n  var query = \"CALL `getUser`(?)\";\n  db.query(query, [ID], function (error, data) {\n    if (error) {\n      res.json({\n        user: false,\n        message: error\n      });\n    } else {\n      if (data[0].length === 0) {\n        res.json({\n          user: false,\n          message: \"No user with that ID exists\"\n        });\n      } else {\n        res.json({\n          user: true,\n          message: \"User found\",\n          userData: data[0]\n        });\n      }\n    }\n  });\n}); //Get means client is asking\n//Post is giving some extra information and also asking for data\n// req is data from the client to the server\n// res is data from the server to the client\n\nserver.get('/photosapi', function (req, res) {\n  res.json(jsonData);\n});\nserver.get('/photosapi/:photoid', function (req, res) {\n  var id_from_client = req.params.photoid;\n  res.json(jsonData.find(function (x) {\n    return x.id == id_from_client;\n  }));\n});\nserver.post('/photosapi', function (req, res) {\n  var newPhoto = {\n    albumId: req.body.albumId,\n    id: req.body.id,\n    title: req.body.title,\n    url: req.body.url,\n    thumbnailUrl: req.body.thumbnailUrl\n  }; // console.log(newPhoto)\n\n  jsonData.push(newPhoto);\n  res.json(newPhoto);\n});\nserver.put('/photosapi/:id', function (req, res) {\n  var photoindex = jsonData.findIndex(function (x) {\n    return x.id == req.params.id;\n  });\n  console.log(photoindex);\n\n  if (photoindex !== -1) {\n    var newPhotoData = {\n      albumId: req.body.albumId,\n      id: req.body.id,\n      title: req.body.title,\n      url: req.body.url,\n      thumbnailUrl: req.body.thumbnailUrl\n    };\n    jsonData[photoindex] = newPhotoData;\n    res.json(jsonData[photoindex]);\n  } else res.status(400).json({\n    message: \"There is no photo with ID: \" + req.params.id\n  });\n});\nserver[\"delete\"]('/photosapi/:id', function (req, res) {\n  var photoindex = jsonData.findIndex(function (x) {\n    return x.id == req.params.id;\n  });\n\n  if (photoindex !== -1) {\n    jsonData.splice(photoindex, 1);\n    res.json({\n      message: \"Photo ID: \" + req.params.id + \" deleted\"\n    });\n  } else res.status(400).json({\n    message: \"ERROR: Photo ID: \" + req.params.id + \" not found\"\n  });\n}); // You can give port number of your choice\n\nserver.listen(4400, function () {\n  console.log('Server is successfully running on port 4400'); //  console.log(process.env.DBPORT);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsIm15c3FsIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiREJIT1NUIiwicG9ydCIsIkRCUE9TVCIsInVzZXIiLCJEQlVTRVIiLCJwYXNzd29yZCIsIkRCUEFTU1dPUkQiLCJkYXRhYmFzZSIsImpzb25EYXRhIiwic2VydmVyIiwidXNlIiwiZXhwcmVzcyIsImpzb24iLCJjb25uZWN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsIm9yaWdpbmFsbmFtZSIsImZpbGV1cGxvYWQiLCJwb3N0Iiwic2luZ2xlIiwicmVzIiwiZ2V0IiwicXVlcnkiLCJhbGxwaG90b3MiLCJtZXNzYWdlIiwicGFyYW1zIiwicGhvdG9pZCIsInBob3RvIiwiYm9keSIsImFsYnVtSWRfZnJvbUMiLCJ0aXRsZV9mcm9tQyIsInVybF9mcm9tQyIsInRuX2Zyb21DIiwibmV3cGhvdG8iLCJnZXRGaWxlbmFtZSIsImlkIiwiZGF0YSIsImZpbGVfdG9fYmVfZGVsZXRlZCIsInVybCIsImZzIiwidW5saW5rIiwiZGVsU3RhdHVzIiwiZGVsZXRlU3RhdHVzIiwiZGVsX3N1Y2Nlc3MiLCJERUxfU1VDQ0VTUyIsImVtYWlsIiwibG9naW5RdWVyeSIsIkVycm9yTWVzc2FnZSIsImxlbmd0aCIsImxvZ2luIiwiVXNlcklEIiwibmFtZSIsInNpZ251cFF1ZXJ5IiwiZmllbGRzIiwibmV3dXNlciIsInB1dCIsIklEIiwidXBkYXRlIiwiZGVsZXRlVXNlciIsInVzZXJEYXRhIiwiaWRfZnJvbV9jbGllbnQiLCJmaW5kIiwieCIsIm5ld1Bob3RvIiwiYWxidW1JZCIsInRpdGxlIiwidGh1bWJuYWlsVXJsIiwicHVzaCIsInBob3RvaW5kZXgiLCJmaW5kSW5kZXgiLCJuZXdQaG90b0RhdGEiLCJzdGF0dXMiLCJzcGxpY2UiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkQ6XFxWYW5BcnQgQXNzaWdubWVudHNcXEpvaG5cXHByYWN0aWNlIGNsYXNzIGFzc2lnbm1lbnRzXFwyOC1BcHJpbC0gUGhvdG8gYWxidW0gQXBwXFxzZXJ2ZXJcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzLCB7IGpzb24gfSBmcm9tICdleHByZXNzJztcclxuLy8gaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbi8vIGltcG9ydCBteXNxbCBmcm9tICdteXNxbCc7IC8vIGNyZWF0ZSBhbiBpbnN0YW5jZVxyXG5pbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwyJztcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJzsvL211bHRlciBpcyBvbmx5IHVzZWQgZm9yIHVwbG9hZGluZyB0aGUgZmlsZVxyXG4vL2NvbnN0IG15c3FsID0gcmVxdWlyZShcIm15c3FsXCIpO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnOyBcclxuaW1wb3J0J2RvdC9lbnYvY29uZmknO1xyXG5cclxuXHJcbi8vIGNvbm5lY3Rpb24gd2l0aCB0aGUgREJcclxuLy8gY29uc3QgZGIgPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uICh7XHJcbi8vICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbi8vICAgcG9ydDogMzMwNixcclxuLy8gICB1c2VyOidyb290JyxcclxuLy8gICBwYXNzd29yZDonJyxcclxuLy8gICAvLyBkYXRhYmFzZTonRW1wbG95ZWVzJ1xyXG4vLyAgIGRhdGFiYXNlOidQaG90b2dhbGxlcnknXHJcblxyXG4vLyB9KTtcclxuXHJcbi8vIGZvciBwcm9kdWN0aW9uXHJcbmNvbnN0IGRiID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbiAoe1xyXG4gIC8vIGhvc3Q6ICdodHRwOi8vMTM5LjU5LjIwLjExMi8nLFxyXG4gIC8vIHBvcnQ6IDMzMDYsXHJcbiAgLy8gdXNlcjonbXlhZG1pbicsXHJcbiAgLy8gcGFzc3dvcmQ6J015U1FMQGRtaW4hMTIzNDUnLFxyXG4gIC8vIGRhdGFiYXNlOidFbXBsb3llZXMnXHJcbiAgLy8gZGF0YWJhc2U6J1Bob3RvZ2FsbGVyeSdcclxuICBob3N0OiBwcm9jZXNzLmVudi5EQkhPU1QsXHJcbiAgcG9ydDogcHJvY2Vzcy5lbnYuREJQT1NULFxyXG4gIHVzZXI6IHByb2Nlc3MuZW52LkRCVVNFUixcclxuICBwYXNzd29yZDpwcm9jZXNzLmVudi5EQlBBU1NXT1JELFxyXG4gIGRhdGFiYXNlOidQaG90b2dhbGxlcnknXHJcblxyXG59KTtcclxuXHJcbmxldCBqc29uRGF0YSA9IFtcclxuICAgIHtcclxuICAgICAgXCJhbGJ1bUlkXCI6IDEsXHJcbiAgICAgIFwiaWRcIjogMSxcclxuICAgICAgXCJ0aXRsZVwiOiBcImFjY3VzYW11cyBiZWF0YWUgYWQgZmFjaWxpcyBjdW0gc2ltaWxpcXVlIHF1aSBzdW50XCIsXHJcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzYwMC85MmM5NTJcIixcclxuICAgICAgXCJ0aHVtYm5haWxVcmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwLzkyYzk1MlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcImFsYnVtSWRcIjogMSxcclxuICAgICAgXCJpZFwiOiAyLFxyXG4gICAgICBcInRpdGxlXCI6IFwicmVwcmVoZW5kZXJpdCBlc3QgZGVzZXJ1bnQgdmVsaXQgaXBzYW1cIixcclxuICAgICAgXCJ1cmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vNjAwLzc3MTc5NlwiLFxyXG4gICAgICBcInRodW1ibmFpbFVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xNTAvNzcxNzk2XCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiYWxidW1JZFwiOiAxLFxyXG4gICAgICBcImlkXCI6IDMsXHJcbiAgICAgIFwidGl0bGVcIjogXCJvZmZpY2lhIHBvcnJvIGl1cmUgcXVpYSBpdXN0byBxdWkgaXBzYSB1dCBtb2RpXCIsXHJcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzYwMC8yNGYzNTVcIixcclxuICAgICAgXCJ0aHVtYm5haWxVcmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwLzI0ZjM1NVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcImFsYnVtSWRcIjogMSxcclxuICAgICAgXCJpZFwiOiA0LFxyXG4gICAgICBcInRpdGxlXCI6IFwiY3VscGEgb2RpbyBlc3NlIHJlcnVtIG9tbmlzIGxhYm9yaW9zYW0gdm9sdXB0YXRlIHJlcHVkaWFuZGFlXCIsXHJcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzYwMC9kMzI3NzZcIixcclxuICAgICAgXCJ0aHVtYm5haWxVcmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwL2QzMjc3NlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcImFsYnVtSWRcIjogMSxcclxuICAgICAgXCJpZFwiOiA1LFxyXG4gICAgICBcInRpdGxlXCI6IFwibmF0dXMgbmlzaSBvbW5pcyBjb3Jwb3JpcyBmYWNlcmUgbW9sZXN0aWFlIHJlcnVtIGluXCIsXHJcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzYwMC9mNjZiOTdcIixcclxuICAgICAgXCJ0aHVtYm5haWxVcmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwL2Y2NmI5N1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcImFsYnVtSWRcIjogMSxcclxuICAgICAgXCJpZFwiOiA2LFxyXG4gICAgICBcInRpdGxlXCI6IFwiYWNjdXNhbXVzIGVhIGFsaXF1aWQgZXQgYW1ldCBzZXF1aSBuZW1vXCIsXHJcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzYwMC81NmE4YzJcIixcclxuICAgICAgXCJ0aHVtYm5haWxVcmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMTUwLzU2YThjMlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcImFsYnVtSWRcIjogMSxcclxuICAgICAgXCJpZFwiOiA3LFxyXG4gICAgICBcInRpdGxlXCI6IFwib2ZmaWNpYSBkZWxlY3R1cyBjb25zZXF1YXR1ciB2ZXJvIGF1dCB2ZW5pYW0gZXhwbGljYWJvIG1vbGVzdGlhc1wiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS82MDAvYjBmN2NjXCIsXHJcbiAgICAgIFwidGh1bWJuYWlsVXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MC9iMGY3Y2NcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJhbGJ1bUlkXCI6IDEsXHJcbiAgICAgIFwiaWRcIjogOCxcclxuICAgICAgXCJ0aXRsZVwiOiBcImF1dCBwb3JybyBvZmZpY2lpcyBsYWJvcnVtIG9kaXQgZWEgbGF1ZGFudGl1bSBjb3Jwb3Jpc1wiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS82MDAvNTQxNzZmXCIsXHJcbiAgICAgIFwidGh1bWJuYWlsVXJsXCI6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MC81NDE3NmZcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJhbGJ1bUlkXCI6IDEsXHJcbiAgICAgIFwiaWRcIjogOSxcclxuICAgICAgXCJ0aXRsZVwiOiBcInF1aSBlaXVzIHF1aSBhdXRlbSBzZWRcIixcclxuICAgICAgXCJ1cmxcIjogXCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vNjAwLzUxYWE5N1wiLFxyXG4gICAgICBcInRodW1ibmFpbFVybFwiOiBcImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xNTAvNTFhYTk3XCJcclxuICAgIH1cclxuXVxyXG5cclxuXHJcbmNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKTtcclxuc2VydmVyLnVzZShjb3JzKCkpO1xyXG4vLyBUaGlzIHRlbGxzIG5vZGUgdG8gYXBwbHkganNvbiBmb3JtYXQgdG8gYWxsIGRhdGFcclxuc2VydmVyLnVzZShleHByZXNzLmpzb24oKSk7XHJcbnNlcnZlci51c2UoZXhwcmVzcy5zdGF0aWMoJ3VwbG9hZHMnKSk7XHJcblxyXG5cclxuXHJcbmRiLmNvbm5lY3QoIChlcnJvcikgPT4ge1xyXG4gIGlmKGVycm9yKSBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgZWxzZSBjb25zb2xlLmxvZygnTXlTUUwgaXMgY29ubmVjdGVkIHRvIE5vZGUnKTtcclxufSk7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsICcuL3VwbG9hZHMnKVxyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAvLyBjb25zdCB1bmlxdWVTdWZmaXggPSBEYXRlLm5vdygpICsgJy0nICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMUU5KVxyXG4gICAgY2IobnVsbCwgZmlsZS5vcmlnaW5hbG5hbWUpXHJcbiAgfVxyXG59KVxyXG5cclxuY29uc3QgZmlsZXVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2V9KTtcclxuXHJcbnNlcnZlci5wb3N0KCcvdXBsb2FkJywgZmlsZXVwbG9hZC5zaW5nbGUoXCJmaWxlX2Zyb21DXCIpLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuanNvbih7IGZpbGV1cGxvYWQ6IHRydWUgfSk7XHJcbn0pO1xyXG5cclxuXHJcbnNlcnZlci5nZXQoJy9waG90b3MnLCAocmVxLCByZXMpID0+IHtcclxuICBsZXQgcXVlcnkgPSBcIkNBTEwgYGdldFBob3Rvc2AoKVwiO1xyXG4gIGRiLnF1ZXJ5KCBxdWVyeSwgKGVycm9yLCBhbGxwaG90b3MgKSA9PntcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgcmVzLmpzb24oeyBhbGxwaG90b3M6ZmFsc2UsIG1lc3NhZ2U6IGVycm9yIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgcmVzLmpzb24oeyBhbGxwaG90b3M6IGFsbHBob3Rvc1swXSwgbWVzc2FnZTpcInJldHVybmVkIHBob3Rvc1wifSk7XHJcbiAgICB9XHJcbiAgfSlcclxufSk7XHJcblxyXG5zZXJ2ZXIuZ2V0KCcvcGhvdG9zLzpwaG90b2lkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IHF1ZXJ5ID0gXCJDQUxMIGBnZXRQaG90b0J5SURgKD8pXCI7XHJcbiAgZGIucXVlcnkoIHF1ZXJ5LCBbcmVxLnBhcmFtcy5waG90b2lkXSwgKGVycm9yLCBwaG90byApID0+e1xyXG4gICAgaWYoZXJyb3Ipe1xyXG4gICAgICByZXMuanNvbih7IHBob3RvOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICByZXMuanNvbih7IHBob3RvOiBwaG90b1swXVswXSwgbWVzc2FnZTogXCJSZXR1cm5lZCBwaG90byBieSBJRFwifSk7XHJcbiAgICB9XHJcbiAgfSlcclxufSlcclxuXHJcblxyXG5cclxuc2VydmVyLnBvc3QoJy9waG90b3MnLCAocmVxLHJlcykgPT4ge1xyXG4gIGxldCBxdWVyeSA9IFwiQ0FMTCBgYWRkUGhvdG9gKD8sID8sID8sID8pXCI7XHJcbiAgZGIucXVlcnkoIHF1ZXJ5LCBbcmVxLmJvZHkuYWxidW1JZF9mcm9tQywgcmVxLmJvZHkudGl0bGVfZnJvbUMsIHJlcS5ib2R5LnVybF9mcm9tQywgcmVxLmJvZHkudG5fZnJvbUNdLCAoZXJyb3IsIG5ld3Bob3RvKSA9PiB7XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgIHJlcy5qc29uKHsgbmV3cGhvdG86IGZhbHNlLCBtZXNzYWdlOiBlcnJvciB9KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHJlcy5qc29uKHsgbmV3cGhvdG86IG5ld3Bob3RvWzBdLCBtZXNzYWdlOlwiUGhvdG8gYWRkZWQgdG8gdGhlIHRhYmxlXCJ9KTtcclxuICAgIH1cclxuICB9KVxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbnNlcnZlci5kZWxldGUoJy9waG90b3MvOmlkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IHF1ZXJ5ID0gXCJDQUxMIGBkZWxldGVQaG90b2AoPylcIjtcclxuICBsZXQgZ2V0RmlsZW5hbWUgPSBcIkNBTEwgYGdldFBob3RvQnlJRGAoPylcIjtcclxuXHJcbiAgZGIucXVlcnkoIGdldEZpbGVuYW1lLCBbcmVxLnBhcmFtcy5pZF0sIChlcnJvciwgZGF0YSkgPT57XHJcbiAgICAvL3Jlcy5qc29uKGRhdGFbMF1bMF0udXJsKTtcclxuICAgIGlmKGVycm9yKXtcclxuXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBsZXQgZmlsZV90b19iZV9kZWxldGVkID0gZGF0YVswXVswXS51cmw7XHJcbiAgICAgIGZzLnVubGluaygnLi91cGxvYWRzLycrZmlsZV90b19iZV9kZWxldGVkLCAoZXJyb3IpID0+e1xyXG4gICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgIHJlcy5qc29uKHsgZGVsU3RhdHVzOiBmYWxzZSwgbWVzc2FnZTogZXJyb3J9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIGRiLnF1ZXJ5KHF1ZXJ5LCBbcmVxLnBhcmFtcy5pZF0sIChlcnJvciwgZGVsZXRlU3RhdHVzKSA9PntcclxuICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgIHJlcy5qc29uKHsgZGVsU3RhdHVzOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICBsZXQgZGVsX3N1Y2Nlc3MgPSBkZWxldGVTdGF0dXNbMF1bMF0uREVMX1NVQ0NFU1M7XHJcbiAgICAgICAgICAgICAgaWYoZGVsX3N1Y2Nlc3MgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oeyBkZWxTdGF0dXM6IGRlbF9zdWNjZXNzLCBtZXNzYWdlOlwiU3VjY2Vzc2Z1bGx5IERlbGV0ZWRcIiB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHsgZGVsU3RhdHVzOiBkZWxfc3VjY2VzcywgbWVzc2FnZTogXCJJRCBub3QgZm91bmRcIiB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgfSlcclxuICBcclxuICBcclxufSk7XHJcblxyXG4vLyBzZXJ2ZXIuZ2V0KCcvZW1wbG95ZWVzYXBpJywocmVxLHJlcyk9PntcclxuXHJcbi8vICAgLy8gbGV0IGFsbEVtcFNQID1cIkNBbGwgYEFsbF9FbXBfRGF0YWAoKVwiO1xyXG4vLyAgIGxldCBhbGxFbXBTUCA9IFwiU0VMRUNUICogRlJPTSBFbXBsb3llZVwiXHJcbi8vICAgbGV0IHF1ZXJ5ID0gZGIucXVlcnkoYWxsRW1wU1AsKGVycm9yLGRhdGEsZmllbGRzKSA9PiB7XHJcbi8vICAgICBpZihlcnJvcil7XHJcbi8vICAgICAgIHJlcy5qc29uKHsgRXJyb3JNZXNzYWdlOmVycm9yIH0pXHJcbi8vICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuLy8gICAgIH1cclxuLy8gICAgIGVsc2V7XHJcbi8vICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuLy8gICAgIHJlcy5qc29uKGRhdGEpO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgfSlcclxuLy8gfSlcclxuXHJcblxyXG4vLyBtZXRob2QgMVxyXG4vLyBzZXJ2ZXIuZ2V0KCcvZW1wbG95ZWVzc3AnLCAocmVxLCByZXMpID0+IHtcclxuLy8gICBsZXQgYWxsRW1wU1AgPSBcIkNBTEwgYEFsbF9FbXBfRGF0YWAoKVwiO1xyXG4vLyAgIC8vbGV0IGFsbEVtcFNQID0gXCJTRUxFQ1QgKiBGUk9NIEVtcGxveWVlXCJcclxuLy8gICBsZXQgcXVlcnkgPSBkYi5xdWVyeShhbGxFbXBTUCwgKGVycm9yLCBkYXRhLCBmaWVsZHMpID0+IHtcclxuLy8gICAgIGlmKGVycm9yKXtcclxuLy8gICAgICAgcmVzLmpzb24oeyBFcnJvck1lc3NhZ2U6IGVycm9yIH0pO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgZWxzZXtcclxuLy8gICAgICAgcmVzLmpzb24oZGF0YVswXSk7XHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gICB9KVxyXG4vLyB9KTtcclxuXHJcbi8vIG1ldGhvZCAyXHJcbi8vIHNlcnZlci5nZXQoJy9lbXBsb3llZS86aWQnICwgKHJlcSxyZXMpID0+IHtcclxuLy8gICBsZXQgZW1wX2lkID0gcmVxLnBhcmFtcy5pZDtcclxuLy8gICBsZXQgZW1wU1AgPSBcIkNBTEwgJ29uZV9lbXBfZGF0YWAoPylcIjtcclxuLy8gICBkYi5xdWVyeShlbXBTUCxbZW1wX2lkXSAsIChlcnJvcixkYXRhLGZpZWxkcykgPT57XHJcbi8vICAgICBpZihlcnJvcil7XHJcbi8vICAgICAgIHJlcy5qc29uKHsgRXJyb3JNZXNzYWdlOiBlcnJvcn0pO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGVsc2V7XHJcbi8vICAgICAgIHJlcy5qc29uKGRhdGFbMF0pO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0pXHJcbi8vIH0pO1xyXG5cclxuLy8gTE9HSU5cclxuc2VydmVyLnBvc3QoJy9sb2dpbicsIChyZXEsIHJlcykgPT4ge1xyXG4gIGxldCBlbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xyXG4gIGxldCBwYXNzd29yZCA9IHJlcS5ib2R5LnBhc3N3b3JkO1xyXG4gIGxldCBsb2dpblF1ZXJ5ID0gJ0NBTEwgYGxvZ2luYCg/LCA/KSc7XHJcbiAgZGIucXVlcnkobG9naW5RdWVyeSwgW2VtYWlsLCBwYXNzd29yZF0sIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgaWYoZXJyb3Ipe1xyXG4gICAgICByZXMuanNvbih7IEVycm9yTWVzc2FnZTogZXJyb3J9KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIGlmKGRhdGFbMF0ubGVuZ3RoID09PSAwKXtcclxuICAgICAgICByZXMuanNvbih7IGRhdGE6IGRhdGFbMF0sIGxvZ2luOiBmYWxzZSwgbWVzc2FnZTogXCJTb3JyeSwgeW91IGhhdmUgcHJvdmlkZWQgd3JvbmcgY3JlZGVudGlhbHNcIn0pXHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICByZXMuanNvbih7IFxyXG4gICAgICAgICAgICBVc2VySUQ6IGRhdGFbMF0uVXNlcklELCBcclxuICAgICAgICAgICAgZW1haWw6IGRhdGFbMF0uZW1haWwsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGFbMF0sXHJcbiAgICAgICAgICAgIGxvZ2luOiB0cnVlLCBcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJMb2dpbiBzdWNjZXNzZnVsXCJ9KTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBBdXRoIEtleVxyXG4gICAgICB9XHJcblxyXG4gICAgICBcclxuICAgIH1cclxuICB9KVxyXG5cclxufSk7XHJcblxyXG4vLyBzZXJ2ZXIucG9zdCgnL3NpZ251cCcsIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgIGxldCBlbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xyXG4vLyAgIGxldCBwYXNzd29yZCA9IHJlcS5ib2R5LnBhc3N3b3JkO1xyXG4vLyAgIGxldCBuYW1lID0gcmVxLmJvZHkubmFtZTtcclxuICBcclxuLy8gICBsZXQgc2lnbnVwUXVlcnkgPSBcIkNBTEwgYG5ld3VzZXJgKD8sID8sID8pXCI7XHJcbi8vICAgZGIucXVlcnkoc2lnbnVwUXVlcnksIFtlbWFpbCwgcGFzc3dvcmQsbmFtZV0sIChlcnJvciwgZGF0YSkgPT4ge1xyXG4vLyAgICAgaWYoZXJyb3Ipe1xyXG4vLyAgICAgICByZXMuanNvbih7IEVycm9yTWVzc2FnZTogZXJyb3J9KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBlbHNle1xyXG4vLyAgICAgIHJlcy5qc29uKHsgZGF0YTogZGF0YVswXSwgc2lnbnVwOiB0cnVlLCBtZXNzYWdlOiBcIlNpZ251cCBzdWNjZXNzXCJ9KVxyXG4vLyB9ICBcclxuLy8gfSkgICBcclxuLy8gfSk7XHJcblxyXG4vLyBTSUdOVVBcclxuc2VydmVyLnBvc3QoJy9zaWdudXAnLCAocmVxLCByZXMpID0+IHtcclxuICAvLyByZXEuYm9keSBpcyB0YXJnZXRpbmcgdGhlIGNsaWVudCBzaWRlXHJcbiAgbGV0IGVtYWlsID0gcmVxLmJvZHkuZW1haWw7XHJcbiAgbGV0IHBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQ7XHJcbiAgbGV0IG5hbWUgPSByZXEuYm9keS5uYW1lO1xyXG4gIFxyXG4gIGxldCBzaWdudXBRdWVyeSA9IFwiQ0FMTCBgbmV3dXNlcmAoPyw/LD8pXCI7XHJcbiAgZGIucXVlcnkoc2lnbnVwUXVlcnksIFtlbWFpbCwgcGFzc3dvcmQsbmFtZV0sIChlcnJvciwgZGF0YSxmaWVsZHMpID0+IHtcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgcmVzLmpzb24oeyBuZXd1c2VyOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSlcclxuICAgICAgLy8gcmVzLmpzb24oeyBFcnJvck1lc3NhZ2U6IGVycm9yfSk7XHJcbiAgICAgIC8vIHJlcy5qc29uKHtuZXd1c2VyOmZhbHNlLG1lc3NhZ2U6ZXJyb3J9KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgXHJcbiAgICAgIHJlcy5qc29uKHsgbmV3dXNlcjogdHJ1ZSwgbWVzc2FnZTogXCJOZXcgdXNlciBhZGRlZCB0byB0aGUgZGJcIn0pO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIFxyXG4gICAgXHJcbiAgfSlcclxuXHJcbn0pXHJcblxyXG4vLyBVcGRhdGVcclxuc2VydmVyLnB1dCgnL3VwZGF0ZVVzZXInLCAocmVxLCByZXMpID0+IHtcclxuICBsZXQgSUQgPSByZXEuYm9keS5JRDtcclxuICBsZXQgZW1haWwgPSByZXEuYm9keS5lbWFpbDtcclxuICBsZXQgcGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZDtcclxuICBsZXQgcXVlcnkgPSBcIkNBTEwgYHVwZGF0ZVVzZXJgKD8sID8sID8pXCI7XHJcbiAgZGIucXVlcnkocXVlcnksIFtJRCwgZW1haWwsIHBhc3N3b3JkXSwgKGVycm9yLCBkYXRhKSA9PiB7XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgIHJlcy5qc29uKHsgdXBkYXRlOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICByZXMuanNvbih7IHVwZGF0ZTogdHJ1ZSwgbWVzc2FnZTogXCJVc2VyIHN1Y2Nlc3NmdWxseSB1cGRhdGVkXCJ9KTtcclxuICAgIH1cclxuICB9KVxyXG59KTtcclxuXHJcblxyXG5cclxuc2VydmVyLmRlbGV0ZSgnL2RlbGV0ZXVzZXIvOmlkJywocmVxLHJlcykgPT4ge1xyXG4gIC8vIGxldCBJRCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgbGV0IHF1ZXJ5ID0gXCJDQUxMIGBkZWxldGVVc2VyYCg/KVwiO1xyXG4gIC8vIGRiLnF1ZXJ5IChxdWVyeSxbSURdLChlcnJvcixkYXRhKSA9PntcclxuICAgIGRiLnF1ZXJ5IChxdWVyeSxbcmVxLnBhcmFtcy5pZF0sKGVycm9yLGRhdGEpID0+e1xyXG4gICAgaWYoZXJyb3Ipe1xyXG4gICAgICByZXMuanNvbih7ZGVsZXRlVXNlcjogZmFsc2UsbWVzc2FnZTplcnJvcn0pO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgcmVzLmpzb24oeyBkZWxldGVVc2VyOiB0cnVlLCBtZXNzYWdlOiBcIlVzZXIgZGVsZXRlZCBzdWNjZXNzZnVsbHkgXCJ9KTtcclxuICAgIH1cclxuICB9KVxyXG59KSBcclxuXHJcbnNlcnZlci5nZXQoJy91c2VyLzppZCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIGxldCBJRCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgbGV0IHF1ZXJ5ID0gXCJDQUxMIGBnZXRVc2VyYCg/KVwiO1xyXG4gIGRiLnF1ZXJ5KHF1ZXJ5LCBbSURdLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgcmVzLmpzb24oeyB1c2VyOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IgfSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIGlmKGRhdGFbMF0ubGVuZ3RoID09PSAwKXtcclxuICAgICAgICByZXMuanNvbih7IHVzZXI6IGZhbHNlLCBtZXNzYWdlOiBcIk5vIHVzZXIgd2l0aCB0aGF0IElEIGV4aXN0c1wiIH0pXHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICByZXMuanNvbih7IHVzZXI6IHRydWUsIG1lc3NhZ2U6IFwiVXNlciBmb3VuZFwiLCB1c2VyRGF0YTogZGF0YVswXX0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxufSlcclxuXHJcbi8vR2V0IG1lYW5zIGNsaWVudCBpcyBhc2tpbmdcclxuLy9Qb3N0IGlzIGdpdmluZyBzb21lIGV4dHJhIGluZm9ybWF0aW9uIGFuZCBhbHNvIGFza2luZyBmb3IgZGF0YVxyXG5cclxuLy8gcmVxIGlzIGRhdGEgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXJcclxuLy8gcmVzIGlzIGRhdGEgZnJvbSB0aGUgc2VydmVyIHRvIHRoZSBjbGllbnRcclxuc2VydmVyLmdldCgnL3Bob3Rvc2FwaScgLCAocmVxLHJlcykgPT4ge1xyXG4gICAgcmVzLmpzb24oanNvbkRhdGEpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbnNlcnZlci5nZXQoJy9waG90b3NhcGkvOnBob3RvaWQnLCAocmVxLCByZXMpID0+IHtcclxuICBsZXQgaWRfZnJvbV9jbGllbnQgPSByZXEucGFyYW1zLnBob3RvaWQ7XHJcbiAgcmVzLmpzb24oanNvbkRhdGEuZmluZCggeCA9PiB4LmlkID09ICBpZF9mcm9tX2NsaWVudCApKTtcclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG5zZXJ2ZXIucG9zdCgnL3Bob3Rvc2FwaScsIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICBsZXQgbmV3UGhvdG8gPSB7XHJcbiAgICBhbGJ1bUlkOiByZXEuYm9keS5hbGJ1bUlkLFxyXG4gICAgaWQ6cmVxLmJvZHkuaWQsXHJcbiAgICB0aXRsZTogcmVxLmJvZHkudGl0bGUsXHJcbiAgICB1cmw6cmVxLmJvZHkudXJsLFxyXG4gICAgdGh1bWJuYWlsVXJsOiByZXEuYm9keS50aHVtYm5haWxVcmxcclxuICB9XHJcblxyXG4gIC8vIGNvbnNvbGUubG9nKG5ld1Bob3RvKVxyXG5cclxuICBqc29uRGF0YS5wdXNoKG5ld1Bob3RvKTtcclxuICByZXMuanNvbihuZXdQaG90byk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5zZXJ2ZXIucHV0KCcvcGhvdG9zYXBpLzppZCcsIChyZXEsIHJlcykgPT4ge1xyXG5sZXQgcGhvdG9pbmRleCA9IGpzb25EYXRhLmZpbmRJbmRleCggeCA9PiB4LmlkID09IHJlcS5wYXJhbXMuaWQpO1xyXG5jb25zb2xlLmxvZyhwaG90b2luZGV4KTtcclxuaWYocGhvdG9pbmRleCAhPT0gLTEpe1xyXG4gIGxldCBuZXdQaG90b0RhdGEgPSB7XHJcbiAgICBhbGJ1bUlkOiByZXEuYm9keS5hbGJ1bUlkLFxyXG4gICAgaWQ6cmVxLmJvZHkuaWQsXHJcbiAgICB0aXRsZTogcmVxLmJvZHkudGl0bGUsXHJcbiAgICB1cmw6cmVxLmJvZHkudXJsLFxyXG4gICAgdGh1bWJuYWlsVXJsOiByZXEuYm9keS50aHVtYm5haWxVcmxcclxuICB9XHJcbiAganNvbkRhdGFbcGhvdG9pbmRleF0gPSBuZXdQaG90b0RhdGE7XHJcbiAgcmVzLmpzb24oanNvbkRhdGFbcGhvdG9pbmRleF0pO1xyXG59XHJcbmVsc2VcclxuICByZXMuc3RhdHVzKDQwMCkuanNvbiggeyBtZXNzYWdlOiBcIlRoZXJlIGlzIG5vIHBob3RvIHdpdGggSUQ6IFwiICsgcmVxLnBhcmFtcy5pZH0pXHJcblxyXG59KVxyXG5cclxuXHJcblxyXG5zZXJ2ZXIuZGVsZXRlKCcvcGhvdG9zYXBpLzppZCcsIChyZXEsIHJlcykgPT57XHJcbmxldCBwaG90b2luZGV4ID0ganNvbkRhdGEuZmluZEluZGV4KCB4ID0+IHguaWQgPT0gcmVxLnBhcmFtcy5pZCk7XHJcbmlmKHBob3RvaW5kZXggIT09IC0xKXtcclxuICBqc29uRGF0YS5zcGxpY2UocGhvdG9pbmRleCwgMSk7XHJcbiAgcmVzLmpzb24oeyBtZXNzYWdlOiBcIlBob3RvIElEOiBcIiArIHJlcS5wYXJhbXMuaWQgKyBcIiBkZWxldGVkXCJ9KTtcclxufVxyXG5lbHNlICBcclxuICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiRVJST1I6IFBob3RvIElEOiBcIiArIHJlcS5wYXJhbXMuaWQgKyBcIiBub3QgZm91bmRcIn0pO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIFlvdSBjYW4gZ2l2ZSBwb3J0IG51bWJlciBvZiB5b3VyIGNob2ljZVxyXG5zZXJ2ZXIubGlzdGVuKDQ0MDAsIGZ1bmN0aW9uKCkge1xyXG4gICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgaXMgc3VjY2Vzc2Z1bGx5IHJ1bm5pbmcgb24gcG9ydCA0NDAwJyk7XHJcbiAgICAvLyAgY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuREJQT1JUKTtcclxuICAgICBcclxufSkiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7Ozs7Ozs7QUFQQTtBQUNBO0FBRzRCO0FBQzVCO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQSxJQUFNQSxFQUFFLEdBQUdDLGtCQUFNQyxnQkFBTixDQUF3QjtFQUNqQztFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQUMsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsTUFQZTtFQVFqQ0MsSUFBSSxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsTUFSZTtFQVNqQ0MsSUFBSSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssTUFUZTtFQVVqQ0MsUUFBUSxFQUFDUCxPQUFPLENBQUNDLEdBQVIsQ0FBWU8sVUFWWTtFQVdqQ0MsUUFBUSxFQUFDO0FBWHdCLENBQXhCLENBQVg7O0FBZUEsSUFBSUMsUUFBUSxHQUFHLENBQ1g7RUFDRSxXQUFXLENBRGI7RUFFRSxNQUFNLENBRlI7RUFHRSxTQUFTLG9EQUhYO0VBSUUsT0FBTyx3Q0FKVDtFQUtFLGdCQUFnQjtBQUxsQixDQURXLEVBUVg7RUFDRSxXQUFXLENBRGI7RUFFRSxNQUFNLENBRlI7RUFHRSxTQUFTLHdDQUhYO0VBSUUsT0FBTyx3Q0FKVDtFQUtFLGdCQUFnQjtBQUxsQixDQVJXLEVBZVg7RUFDRSxXQUFXLENBRGI7RUFFRSxNQUFNLENBRlI7RUFHRSxTQUFTLGdEQUhYO0VBSUUsT0FBTyx3Q0FKVDtFQUtFLGdCQUFnQjtBQUxsQixDQWZXLEVBc0JYO0VBQ0UsV0FBVyxDQURiO0VBRUUsTUFBTSxDQUZSO0VBR0UsU0FBUyw4REFIWDtFQUlFLE9BQU8sd0NBSlQ7RUFLRSxnQkFBZ0I7QUFMbEIsQ0F0QlcsRUE2Qlg7RUFDRSxXQUFXLENBRGI7RUFFRSxNQUFNLENBRlI7RUFHRSxTQUFTLHFEQUhYO0VBSUUsT0FBTyx3Q0FKVDtFQUtFLGdCQUFnQjtBQUxsQixDQTdCVyxFQW9DWDtFQUNFLFdBQVcsQ0FEYjtFQUVFLE1BQU0sQ0FGUjtFQUdFLFNBQVMseUNBSFg7RUFJRSxPQUFPLHdDQUpUO0VBS0UsZ0JBQWdCO0FBTGxCLENBcENXLEVBMkNYO0VBQ0UsV0FBVyxDQURiO0VBRUUsTUFBTSxDQUZSO0VBR0UsU0FBUyxrRUFIWDtFQUlFLE9BQU8sd0NBSlQ7RUFLRSxnQkFBZ0I7QUFMbEIsQ0EzQ1csRUFrRFg7RUFDRSxXQUFXLENBRGI7RUFFRSxNQUFNLENBRlI7RUFHRSxTQUFTLHdEQUhYO0VBSUUsT0FBTyx3Q0FKVDtFQUtFLGdCQUFnQjtBQUxsQixDQWxEVyxFQXlEWDtFQUNFLFdBQVcsQ0FEYjtFQUVFLE1BQU0sQ0FGUjtFQUdFLFNBQVMsd0JBSFg7RUFJRSxPQUFPLHdDQUpUO0VBS0UsZ0JBQWdCO0FBTGxCLENBekRXLENBQWY7QUFtRUEsSUFBTUMsTUFBTSxHQUFHLDBCQUFmO0FBQ0FBLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXLHVCQUFYLEUsQ0FDQTs7QUFDQUQsTUFBTSxDQUFDQyxHQUFQLENBQVdDLG9CQUFRQyxJQUFSLEVBQVg7QUFDQUgsTUFBTSxDQUFDQyxHQUFQLENBQVdDLDhCQUFlLFNBQWYsQ0FBWDtBQUlBakIsRUFBRSxDQUFDbUIsT0FBSCxDQUFZLFVBQUNDLEtBQUQsRUFBVztFQUNyQixJQUFHQSxLQUFILEVBQVVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFaLEVBQVYsS0FDS0MsT0FBTyxDQUFDQyxHQUFSLENBQVksNEJBQVo7QUFDTixDQUhEOztBQUtBLElBQU1DLE9BQU8sR0FBR0MsbUJBQU9DLFdBQVAsQ0FBbUI7RUFDakNDLFdBQVcsRUFBRSxxQkFBVUMsR0FBVixFQUFlQyxJQUFmLEVBQXFCQyxFQUFyQixFQUF5QjtJQUNwQ0EsRUFBRSxDQUFDLElBQUQsRUFBTyxXQUFQLENBQUY7RUFDRCxDQUhnQztFQUlqQ0MsUUFBUSxFQUFFLGtCQUFVSCxHQUFWLEVBQWVDLElBQWYsRUFBcUJDLEVBQXJCLEVBQXlCO0lBQ2pDO0lBQ0FBLEVBQUUsQ0FBQyxJQUFELEVBQU9ELElBQUksQ0FBQ0csWUFBWixDQUFGO0VBQ0Q7QUFQZ0MsQ0FBbkIsQ0FBaEI7O0FBVUEsSUFBTUMsVUFBVSxHQUFHLHdCQUFPO0VBQUVULE9BQU8sRUFBRUE7QUFBWCxDQUFQLENBQW5CO0FBRUFSLE1BQU0sQ0FBQ2tCLElBQVAsQ0FBWSxTQUFaLEVBQXVCRCxVQUFVLENBQUNFLE1BQVgsQ0FBa0IsWUFBbEIsQ0FBdkIsRUFBd0QsVUFBQ1AsR0FBRCxFQUFNUSxHQUFOLEVBQWM7RUFDcEVBLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztJQUFFYyxVQUFVLEVBQUU7RUFBZCxDQUFUO0FBQ0QsQ0FGRDtBQUtBakIsTUFBTSxDQUFDcUIsR0FBUCxDQUFXLFNBQVgsRUFBc0IsVUFBQ1QsR0FBRCxFQUFNUSxHQUFOLEVBQWM7RUFDbEMsSUFBSUUsS0FBSyxHQUFHLG9CQUFaO0VBQ0FyQyxFQUFFLENBQUNxQyxLQUFILENBQVVBLEtBQVYsRUFBaUIsVUFBQ2pCLEtBQUQsRUFBUWtCLFNBQVIsRUFBc0I7SUFDckMsSUFBR2xCLEtBQUgsRUFBUztNQUNQZSxHQUFHLENBQUNqQixJQUFKLENBQVM7UUFBRW9CLFNBQVMsRUFBQyxLQUFaO1FBQW1CQyxPQUFPLEVBQUVuQjtNQUE1QixDQUFUO0lBQ0QsQ0FGRCxNQUdJO01BQ0ZlLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztRQUFFb0IsU0FBUyxFQUFFQSxTQUFTLENBQUMsQ0FBRCxDQUF0QjtRQUEyQkMsT0FBTyxFQUFDO01BQW5DLENBQVQ7SUFDRDtFQUNGLENBUEQ7QUFRRCxDQVZEO0FBWUF4QixNQUFNLENBQUNxQixHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ1QsR0FBRCxFQUFNUSxHQUFOLEVBQWM7RUFDM0MsSUFBSUUsS0FBSyxHQUFHLHdCQUFaO0VBQ0FyQyxFQUFFLENBQUNxQyxLQUFILENBQVVBLEtBQVYsRUFBaUIsQ0FBQ1YsR0FBRyxDQUFDYSxNQUFKLENBQVdDLE9BQVosQ0FBakIsRUFBdUMsVUFBQ3JCLEtBQUQsRUFBUXNCLEtBQVIsRUFBa0I7SUFDdkQsSUFBR3RCLEtBQUgsRUFBUztNQUNQZSxHQUFHLENBQUNqQixJQUFKLENBQVM7UUFBRXdCLEtBQUssRUFBRSxLQUFUO1FBQWdCSCxPQUFPLEVBQUVuQjtNQUF6QixDQUFUO0lBQ0QsQ0FGRCxNQUdJO01BQ0ZlLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztRQUFFd0IsS0FBSyxFQUFFQSxLQUFLLENBQUMsQ0FBRCxDQUFMLENBQVMsQ0FBVCxDQUFUO1FBQXNCSCxPQUFPLEVBQUU7TUFBL0IsQ0FBVDtJQUNEO0VBQ0YsQ0FQRDtBQVFELENBVkQ7QUFjQXhCLE1BQU0sQ0FBQ2tCLElBQVAsQ0FBWSxTQUFaLEVBQXVCLFVBQUNOLEdBQUQsRUFBS1EsR0FBTCxFQUFhO0VBQ2xDLElBQUlFLEtBQUssR0FBRyw2QkFBWjtFQUNBckMsRUFBRSxDQUFDcUMsS0FBSCxDQUFVQSxLQUFWLEVBQWlCLENBQUNWLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU0MsYUFBVixFQUF5QmpCLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU0UsV0FBbEMsRUFBK0NsQixHQUFHLENBQUNnQixJQUFKLENBQVNHLFNBQXhELEVBQW1FbkIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTSSxRQUE1RSxDQUFqQixFQUF3RyxVQUFDM0IsS0FBRCxFQUFRNEIsUUFBUixFQUFxQjtJQUMzSCxJQUFHNUIsS0FBSCxFQUFTO01BQ1BlLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztRQUFFOEIsUUFBUSxFQUFFLEtBQVo7UUFBbUJULE9BQU8sRUFBRW5CO01BQTVCLENBQVQ7SUFDRCxDQUZELE1BR0k7TUFDRmUsR0FBRyxDQUFDakIsSUFBSixDQUFTO1FBQUU4QixRQUFRLEVBQUVBLFFBQVEsQ0FBQyxDQUFELENBQXBCO1FBQXlCVCxPQUFPLEVBQUM7TUFBakMsQ0FBVDtJQUNEO0VBQ0YsQ0FQRDtBQVFELENBVkQ7QUFlQXhCLE1BQU0sVUFBTixDQUFjLGFBQWQsRUFBNkIsVUFBQ1ksR0FBRCxFQUFNUSxHQUFOLEVBQWM7RUFDekMsSUFBSUUsS0FBSyxHQUFHLHVCQUFaO0VBQ0EsSUFBSVksV0FBVyxHQUFHLHdCQUFsQjtFQUVBakQsRUFBRSxDQUFDcUMsS0FBSCxDQUFVWSxXQUFWLEVBQXVCLENBQUN0QixHQUFHLENBQUNhLE1BQUosQ0FBV1UsRUFBWixDQUF2QixFQUF3QyxVQUFDOUIsS0FBRCxFQUFRK0IsSUFBUixFQUFnQjtJQUN0RDtJQUNBLElBQUcvQixLQUFILEVBQVMsQ0FFUixDQUZELE1BR0k7TUFDRixJQUFJZ0Msa0JBQWtCLEdBQUdELElBQUksQ0FBQyxDQUFELENBQUosQ0FBUSxDQUFSLEVBQVdFLEdBQXBDOztNQUNBQyxlQUFHQyxNQUFILENBQVUsZUFBYUgsa0JBQXZCLEVBQTJDLFVBQUNoQyxLQUFELEVBQVU7UUFDbkQsSUFBR0EsS0FBSCxFQUFTO1VBQ1BlLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztZQUFFc0MsU0FBUyxFQUFFLEtBQWI7WUFBb0JqQixPQUFPLEVBQUVuQjtVQUE3QixDQUFUO1FBQ0QsQ0FGRCxNQUdJO1VBQ0ZwQixFQUFFLENBQUNxQyxLQUFILENBQVNBLEtBQVQsRUFBZ0IsQ0FBQ1YsR0FBRyxDQUFDYSxNQUFKLENBQVdVLEVBQVosQ0FBaEIsRUFBaUMsVUFBQzlCLEtBQUQsRUFBUXFDLFlBQVIsRUFBd0I7WUFDdkQsSUFBR3JDLEtBQUgsRUFBUztjQUNQZSxHQUFHLENBQUNqQixJQUFKLENBQVM7Z0JBQUVzQyxTQUFTLEVBQUUsS0FBYjtnQkFBb0JqQixPQUFPLEVBQUVuQjtjQUE3QixDQUFUO1lBQ0QsQ0FGRCxNQUdJO2NBQ0YsSUFBSXNDLFdBQVcsR0FBR0QsWUFBWSxDQUFDLENBQUQsQ0FBWixDQUFnQixDQUFoQixFQUFtQkUsV0FBckM7O2NBQ0EsSUFBR0QsV0FBVyxLQUFLLENBQW5CLEVBQXFCO2dCQUNuQnZCLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztrQkFBRXNDLFNBQVMsRUFBRUUsV0FBYjtrQkFBMEJuQixPQUFPLEVBQUM7Z0JBQWxDLENBQVQ7Y0FDRCxDQUZELE1BR0k7Z0JBQ0ZKLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztrQkFBRXNDLFNBQVMsRUFBRUUsV0FBYjtrQkFBMEJuQixPQUFPLEVBQUU7Z0JBQW5DLENBQVQ7Y0FDRDtZQUVGO1VBQ0YsQ0FkRDtRQWVEO01BQ0YsQ0FyQkQ7SUFzQkQ7RUFFRixDQS9CRDtBQWtDRCxDQXRDRCxFLENBd0NBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0F4QixNQUFNLENBQUNrQixJQUFQLENBQVksUUFBWixFQUFzQixVQUFDTixHQUFELEVBQU1RLEdBQU4sRUFBYztFQUNsQyxJQUFJeUIsS0FBSyxHQUFHakMsR0FBRyxDQUFDZ0IsSUFBSixDQUFTaUIsS0FBckI7RUFDQSxJQUFJakQsUUFBUSxHQUFHZ0IsR0FBRyxDQUFDZ0IsSUFBSixDQUFTaEMsUUFBeEI7RUFDQSxJQUFJa0QsVUFBVSxHQUFHLG9CQUFqQjtFQUNBN0QsRUFBRSxDQUFDcUMsS0FBSCxDQUFTd0IsVUFBVCxFQUFxQixDQUFDRCxLQUFELEVBQVFqRCxRQUFSLENBQXJCLEVBQXdDLFVBQUNTLEtBQUQsRUFBUStCLElBQVIsRUFBaUI7SUFDdkQsSUFBRy9CLEtBQUgsRUFBUztNQUNQZSxHQUFHLENBQUNqQixJQUFKLENBQVM7UUFBRTRDLFlBQVksRUFBRTFDO01BQWhCLENBQVQ7SUFDRCxDQUZELE1BR0k7TUFDRixJQUFHK0IsSUFBSSxDQUFDLENBQUQsQ0FBSixDQUFRWSxNQUFSLEtBQW1CLENBQXRCLEVBQXdCO1FBQ3RCNUIsR0FBRyxDQUFDakIsSUFBSixDQUFTO1VBQUVpQyxJQUFJLEVBQUVBLElBQUksQ0FBQyxDQUFELENBQVo7VUFBaUJhLEtBQUssRUFBRSxLQUF4QjtVQUErQnpCLE9BQU8sRUFBRTtRQUF4QyxDQUFUO01BQ0QsQ0FGRCxNQUdJO1FBQ0ZKLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztVQUNMK0MsTUFBTSxFQUFFZCxJQUFJLENBQUMsQ0FBRCxDQUFKLENBQVFjLE1BRFg7VUFFTEwsS0FBSyxFQUFFVCxJQUFJLENBQUMsQ0FBRCxDQUFKLENBQVFTLEtBRlY7VUFHTFQsSUFBSSxFQUFFQSxJQUFJLENBQUMsQ0FBRCxDQUhMO1VBSUxhLEtBQUssRUFBRSxJQUpGO1VBS0x6QixPQUFPLEVBQUU7UUFMSixDQUFULEVBREUsQ0FPRTtNQUNMO0lBR0Y7RUFDRixDQXBCRDtBQXNCRCxDQTFCRCxFLENBNEJBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQXhCLE1BQU0sQ0FBQ2tCLElBQVAsQ0FBWSxTQUFaLEVBQXVCLFVBQUNOLEdBQUQsRUFBTVEsR0FBTixFQUFjO0VBQ25DO0VBQ0EsSUFBSXlCLEtBQUssR0FBR2pDLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU2lCLEtBQXJCO0VBQ0EsSUFBSWpELFFBQVEsR0FBR2dCLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU2hDLFFBQXhCO0VBQ0EsSUFBSXVELElBQUksR0FBR3ZDLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU3VCLElBQXBCO0VBRUEsSUFBSUMsV0FBVyxHQUFHLHVCQUFsQjtFQUNBbkUsRUFBRSxDQUFDcUMsS0FBSCxDQUFTOEIsV0FBVCxFQUFzQixDQUFDUCxLQUFELEVBQVFqRCxRQUFSLEVBQWlCdUQsSUFBakIsQ0FBdEIsRUFBOEMsVUFBQzlDLEtBQUQsRUFBUStCLElBQVIsRUFBYWlCLE1BQWIsRUFBd0I7SUFDcEUsSUFBR2hELEtBQUgsRUFBUztNQUNQZSxHQUFHLENBQUNqQixJQUFKLENBQVM7UUFBRW1ELE9BQU8sRUFBRSxLQUFYO1FBQWtCOUIsT0FBTyxFQUFFbkI7TUFBM0IsQ0FBVCxFQURPLENBRVA7TUFDQTtJQUNELENBSkQsTUFLSTtNQUVGZSxHQUFHLENBQUNqQixJQUFKLENBQVM7UUFBRW1ELE9BQU8sRUFBRSxJQUFYO1FBQWlCOUIsT0FBTyxFQUFFO01BQTFCLENBQVQ7SUFDQztFQUlKLENBYkQ7QUFlRCxDQXRCRCxFLENBd0JBOztBQUNBeEIsTUFBTSxDQUFDdUQsR0FBUCxDQUFXLGFBQVgsRUFBMEIsVUFBQzNDLEdBQUQsRUFBTVEsR0FBTixFQUFjO0VBQ3RDLElBQUlvQyxFQUFFLEdBQUc1QyxHQUFHLENBQUNnQixJQUFKLENBQVM0QixFQUFsQjtFQUNBLElBQUlYLEtBQUssR0FBR2pDLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU2lCLEtBQXJCO0VBQ0EsSUFBSWpELFFBQVEsR0FBR2dCLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU2hDLFFBQXhCO0VBQ0EsSUFBSTBCLEtBQUssR0FBRyw0QkFBWjtFQUNBckMsRUFBRSxDQUFDcUMsS0FBSCxDQUFTQSxLQUFULEVBQWdCLENBQUNrQyxFQUFELEVBQUtYLEtBQUwsRUFBWWpELFFBQVosQ0FBaEIsRUFBdUMsVUFBQ1MsS0FBRCxFQUFRK0IsSUFBUixFQUFpQjtJQUN0RCxJQUFHL0IsS0FBSCxFQUFTO01BQ1BlLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztRQUFFc0QsTUFBTSxFQUFFLEtBQVY7UUFBaUJqQyxPQUFPLEVBQUVuQjtNQUExQixDQUFUO0lBQ0QsQ0FGRCxNQUdJO01BQ0ZlLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztRQUFFc0QsTUFBTSxFQUFFLElBQVY7UUFBZ0JqQyxPQUFPLEVBQUU7TUFBekIsQ0FBVDtJQUNEO0VBQ0YsQ0FQRDtBQVFELENBYkQ7QUFpQkF4QixNQUFNLFVBQU4sQ0FBYyxpQkFBZCxFQUFnQyxVQUFDWSxHQUFELEVBQUtRLEdBQUwsRUFBYTtFQUMzQztFQUNBLElBQUlFLEtBQUssR0FBRyxzQkFBWixDQUYyQyxDQUczQzs7RUFDRXJDLEVBQUUsQ0FBQ3FDLEtBQUgsQ0FBVUEsS0FBVixFQUFnQixDQUFDVixHQUFHLENBQUNhLE1BQUosQ0FBV1UsRUFBWixDQUFoQixFQUFnQyxVQUFDOUIsS0FBRCxFQUFPK0IsSUFBUCxFQUFlO0lBQy9DLElBQUcvQixLQUFILEVBQVM7TUFDUGUsR0FBRyxDQUFDakIsSUFBSixDQUFTO1FBQUN1RCxVQUFVLEVBQUUsS0FBYjtRQUFtQmxDLE9BQU8sRUFBQ25CO01BQTNCLENBQVQ7SUFDRCxDQUZELE1BR0k7TUFDRmUsR0FBRyxDQUFDakIsSUFBSixDQUFTO1FBQUV1RCxVQUFVLEVBQUUsSUFBZDtRQUFvQmxDLE9BQU8sRUFBRTtNQUE3QixDQUFUO0lBQ0Q7RUFDRixDQVBDO0FBUUgsQ0FaRDtBQWNBeEIsTUFBTSxDQUFDcUIsR0FBUCxDQUFXLFdBQVgsRUFBd0IsVUFBQ1QsR0FBRCxFQUFNUSxHQUFOLEVBQWM7RUFDcEMsSUFBSW9DLEVBQUUsR0FBRzVDLEdBQUcsQ0FBQ2EsTUFBSixDQUFXVSxFQUFwQjtFQUNBLElBQUliLEtBQUssR0FBRyxtQkFBWjtFQUNBckMsRUFBRSxDQUFDcUMsS0FBSCxDQUFTQSxLQUFULEVBQWdCLENBQUNrQyxFQUFELENBQWhCLEVBQXNCLFVBQUNuRCxLQUFELEVBQVErQixJQUFSLEVBQWlCO0lBQ3JDLElBQUcvQixLQUFILEVBQVM7TUFDUGUsR0FBRyxDQUFDakIsSUFBSixDQUFTO1FBQUVULElBQUksRUFBRSxLQUFSO1FBQWU4QixPQUFPLEVBQUVuQjtNQUF4QixDQUFUO0lBQ0QsQ0FGRCxNQUdJO01BQ0YsSUFBRytCLElBQUksQ0FBQyxDQUFELENBQUosQ0FBUVksTUFBUixLQUFtQixDQUF0QixFQUF3QjtRQUN0QjVCLEdBQUcsQ0FBQ2pCLElBQUosQ0FBUztVQUFFVCxJQUFJLEVBQUUsS0FBUjtVQUFlOEIsT0FBTyxFQUFFO1FBQXhCLENBQVQ7TUFDRCxDQUZELE1BR0k7UUFDRkosR0FBRyxDQUFDakIsSUFBSixDQUFTO1VBQUVULElBQUksRUFBRSxJQUFSO1VBQWM4QixPQUFPLEVBQUUsWUFBdkI7VUFBcUNtQyxRQUFRLEVBQUV2QixJQUFJLENBQUMsQ0FBRDtRQUFuRCxDQUFUO01BQ0Q7SUFDRjtFQUNGLENBWkQ7QUFhRCxDQWhCRCxFLENBa0JBO0FBQ0E7QUFFQTtBQUNBOztBQUNBcEMsTUFBTSxDQUFDcUIsR0FBUCxDQUFXLFlBQVgsRUFBMEIsVUFBQ1QsR0FBRCxFQUFLUSxHQUFMLEVBQWE7RUFDbkNBLEdBQUcsQ0FBQ2pCLElBQUosQ0FBU0osUUFBVDtBQUVILENBSEQ7QUFPQUMsTUFBTSxDQUFDcUIsR0FBUCxDQUFXLHFCQUFYLEVBQWtDLFVBQUNULEdBQUQsRUFBTVEsR0FBTixFQUFjO0VBQzlDLElBQUl3QyxjQUFjLEdBQUdoRCxHQUFHLENBQUNhLE1BQUosQ0FBV0MsT0FBaEM7RUFDQU4sR0FBRyxDQUFDakIsSUFBSixDQUFTSixRQUFRLENBQUM4RCxJQUFULENBQWUsVUFBQUMsQ0FBQztJQUFBLE9BQUlBLENBQUMsQ0FBQzNCLEVBQUYsSUFBU3lCLGNBQWI7RUFBQSxDQUFoQixDQUFUO0FBRUQsQ0FKRDtBQVFBNUQsTUFBTSxDQUFDa0IsSUFBUCxDQUFZLFlBQVosRUFBMEIsVUFBQ04sR0FBRCxFQUFNUSxHQUFOLEVBQWM7RUFFdEMsSUFBSTJDLFFBQVEsR0FBRztJQUNiQyxPQUFPLEVBQUVwRCxHQUFHLENBQUNnQixJQUFKLENBQVNvQyxPQURMO0lBRWI3QixFQUFFLEVBQUN2QixHQUFHLENBQUNnQixJQUFKLENBQVNPLEVBRkM7SUFHYjhCLEtBQUssRUFBRXJELEdBQUcsQ0FBQ2dCLElBQUosQ0FBU3FDLEtBSEg7SUFJYjNCLEdBQUcsRUFBQzFCLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU1UsR0FKQTtJQUtiNEIsWUFBWSxFQUFFdEQsR0FBRyxDQUFDZ0IsSUFBSixDQUFTc0M7RUFMVixDQUFmLENBRnNDLENBVXRDOztFQUVBbkUsUUFBUSxDQUFDb0UsSUFBVCxDQUFjSixRQUFkO0VBQ0EzQyxHQUFHLENBQUNqQixJQUFKLENBQVM0RCxRQUFUO0FBQ0QsQ0FkRDtBQWtCQS9ELE1BQU0sQ0FBQ3VELEdBQVAsQ0FBVyxnQkFBWCxFQUE2QixVQUFDM0MsR0FBRCxFQUFNUSxHQUFOLEVBQWM7RUFDM0MsSUFBSWdELFVBQVUsR0FBR3JFLFFBQVEsQ0FBQ3NFLFNBQVQsQ0FBb0IsVUFBQVAsQ0FBQztJQUFBLE9BQUlBLENBQUMsQ0FBQzNCLEVBQUYsSUFBUXZCLEdBQUcsQ0FBQ2EsTUFBSixDQUFXVSxFQUF2QjtFQUFBLENBQXJCLENBQWpCO0VBQ0E3QixPQUFPLENBQUNDLEdBQVIsQ0FBWTZELFVBQVo7O0VBQ0EsSUFBR0EsVUFBVSxLQUFLLENBQUMsQ0FBbkIsRUFBcUI7SUFDbkIsSUFBSUUsWUFBWSxHQUFHO01BQ2pCTixPQUFPLEVBQUVwRCxHQUFHLENBQUNnQixJQUFKLENBQVNvQyxPQUREO01BRWpCN0IsRUFBRSxFQUFDdkIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTTyxFQUZLO01BR2pCOEIsS0FBSyxFQUFFckQsR0FBRyxDQUFDZ0IsSUFBSixDQUFTcUMsS0FIQztNQUlqQjNCLEdBQUcsRUFBQzFCLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU1UsR0FKSTtNQUtqQjRCLFlBQVksRUFBRXRELEdBQUcsQ0FBQ2dCLElBQUosQ0FBU3NDO0lBTE4sQ0FBbkI7SUFPQW5FLFFBQVEsQ0FBQ3FFLFVBQUQsQ0FBUixHQUF1QkUsWUFBdkI7SUFDQWxELEdBQUcsQ0FBQ2pCLElBQUosQ0FBU0osUUFBUSxDQUFDcUUsVUFBRCxDQUFqQjtFQUNELENBVkQsTUFZRWhELEdBQUcsQ0FBQ21ELE1BQUosQ0FBVyxHQUFYLEVBQWdCcEUsSUFBaEIsQ0FBc0I7SUFBRXFCLE9BQU8sRUFBRSxnQ0FBZ0NaLEdBQUcsQ0FBQ2EsTUFBSixDQUFXVTtFQUF0RCxDQUF0QjtBQUVELENBakJEO0FBcUJBbkMsTUFBTSxVQUFOLENBQWMsZ0JBQWQsRUFBZ0MsVUFBQ1ksR0FBRCxFQUFNUSxHQUFOLEVBQWE7RUFDN0MsSUFBSWdELFVBQVUsR0FBR3JFLFFBQVEsQ0FBQ3NFLFNBQVQsQ0FBb0IsVUFBQVAsQ0FBQztJQUFBLE9BQUlBLENBQUMsQ0FBQzNCLEVBQUYsSUFBUXZCLEdBQUcsQ0FBQ2EsTUFBSixDQUFXVSxFQUF2QjtFQUFBLENBQXJCLENBQWpCOztFQUNBLElBQUdpQyxVQUFVLEtBQUssQ0FBQyxDQUFuQixFQUFxQjtJQUNuQnJFLFFBQVEsQ0FBQ3lFLE1BQVQsQ0FBZ0JKLFVBQWhCLEVBQTRCLENBQTVCO0lBQ0FoRCxHQUFHLENBQUNqQixJQUFKLENBQVM7TUFBRXFCLE9BQU8sRUFBRSxlQUFlWixHQUFHLENBQUNhLE1BQUosQ0FBV1UsRUFBMUIsR0FBK0I7SUFBMUMsQ0FBVDtFQUNELENBSEQsTUFLRWYsR0FBRyxDQUFDbUQsTUFBSixDQUFXLEdBQVgsRUFBZ0JwRSxJQUFoQixDQUFxQjtJQUFFcUIsT0FBTyxFQUFFLHNCQUFzQlosR0FBRyxDQUFDYSxNQUFKLENBQVdVLEVBQWpDLEdBQXNDO0VBQWpELENBQXJCO0FBRUQsQ0FURCxFLENBZ0JBOztBQUNBbkMsTUFBTSxDQUFDeUUsTUFBUCxDQUFjLElBQWQsRUFBb0IsWUFBVztFQUMxQm5FLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZDQUFaLEVBRDBCLENBRTNCO0FBRUgsQ0FKRCJ9","map":{"version":3,"names":["db","mysql","createConnection","host","process","env","DBHOST","port","DBPOST","user","DBUSER","password","DBPASSWORD","database","jsonData","server","use","express","json","connect","error","console","log","storage","multer","diskStorage","destination","req","file","cb","filename","originalname","fileupload","post","single","res","get","query","allphotos","message","params","photoid","photo","body","albumId_fromC","title_fromC","url_fromC","tn_fromC","newphoto","getFilename","id","data","file_to_be_deleted","url","fs","unlink","delStatus","deleteStatus","del_success","DEL_SUCCESS","email","loginQuery","ErrorMessage","length","login","UserID","name","signupQuery","fields","newuser","put","ID","update","deleteUser","userData","id_from_client","find","x","newPhoto","albumId","title","thumbnailUrl","push","photoindex","findIndex","newPhotoData","status","splice","listen"],"sourceRoot":"D:\\VanArt Assignments\\John\\practice class assignments\\28-April- Photo album App\\server\\","sources":["server.js"],"sourcesContent":["import express, { json } from 'express';\r\n// import express from 'express';\r\n// import mysql from 'mysql'; // create an instance\r\nimport mysql from 'mysql2';\r\nimport cors from 'cors';\r\nimport multer from 'multer';//multer is only used for uploading the file\r\n//const mysql = require(\"mysql\");\r\nimport fs from 'fs'; \r\nimport'dot/env/confi';\r\n\r\n\r\n// connection with the DB\r\n// const db = mysql.createConnection ({\r\n//   host: 'localhost',\r\n//   port: 3306,\r\n//   user:'root',\r\n//   password:'',\r\n//   // database:'Employees'\r\n//   database:'Photogallery'\r\n\r\n// });\r\n\r\n// for production\r\nconst db = mysql.createConnection ({\r\n  // host: 'http://139.59.20.112/',\r\n  // port: 3306,\r\n  // user:'myadmin',\r\n  // password:'MySQL@dmin!12345',\r\n  // database:'Employees'\r\n  // database:'Photogallery'\r\n  host: process.env.DBHOST,\r\n  port: process.env.DBPOST,\r\n  user: process.env.DBUSER,\r\n  password:process.env.DBPASSWORD,\r\n  database:'Photogallery'\r\n\r\n});\r\n\r\nlet jsonData = [\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 1,\r\n      \"title\": \"accusamus beatae ad facilis cum similique qui sunt\",\r\n      \"url\": \"https://via.placeholder.com/600/92c952\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/92c952\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 2,\r\n      \"title\": \"reprehenderit est deserunt velit ipsam\",\r\n      \"url\": \"https://via.placeholder.com/600/771796\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/771796\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 3,\r\n      \"title\": \"officia porro iure quia iusto qui ipsa ut modi\",\r\n      \"url\": \"https://via.placeholder.com/600/24f355\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/24f355\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 4,\r\n      \"title\": \"culpa odio esse rerum omnis laboriosam voluptate repudiandae\",\r\n      \"url\": \"https://via.placeholder.com/600/d32776\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/d32776\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 5,\r\n      \"title\": \"natus nisi omnis corporis facere molestiae rerum in\",\r\n      \"url\": \"https://via.placeholder.com/600/f66b97\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/f66b97\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 6,\r\n      \"title\": \"accusamus ea aliquid et amet sequi nemo\",\r\n      \"url\": \"https://via.placeholder.com/600/56a8c2\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/56a8c2\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 7,\r\n      \"title\": \"officia delectus consequatur vero aut veniam explicabo molestias\",\r\n      \"url\": \"https://via.placeholder.com/600/b0f7cc\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/b0f7cc\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 8,\r\n      \"title\": \"aut porro officiis laborum odit ea laudantium corporis\",\r\n      \"url\": \"https://via.placeholder.com/600/54176f\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/54176f\"\r\n    },\r\n    {\r\n      \"albumId\": 1,\r\n      \"id\": 9,\r\n      \"title\": \"qui eius qui autem sed\",\r\n      \"url\": \"https://via.placeholder.com/600/51aa97\",\r\n      \"thumbnailUrl\": \"https://via.placeholder.com/150/51aa97\"\r\n    }\r\n]\r\n\r\n\r\nconst server = express();\r\nserver.use(cors());\r\n// This tells node to apply json format to all data\r\nserver.use(express.json());\r\nserver.use(express.static('uploads'));\r\n\r\n\r\n\r\ndb.connect( (error) => {\r\n  if(error) console.log(error);\r\n  else console.log('MySQL is connected to Node');\r\n});\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    cb(null, './uploads')\r\n  },\r\n  filename: function (req, file, cb) {\r\n    // const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n    cb(null, file.originalname)\r\n  }\r\n})\r\n\r\nconst fileupload = multer({ storage: storage});\r\n\r\nserver.post('/upload', fileupload.single(\"file_fromC\"), (req, res) => {\r\n  res.json({ fileupload: true });\r\n});\r\n\r\n\r\nserver.get('/photos', (req, res) => {\r\n  let query = \"CALL `getPhotos`()\";\r\n  db.query( query, (error, allphotos ) =>{\r\n    if(error){\r\n      res.json({ allphotos:false, message: error });\r\n    }\r\n    else{\r\n      res.json({ allphotos: allphotos[0], message:\"returned photos\"});\r\n    }\r\n  })\r\n});\r\n\r\nserver.get('/photos/:photoid', (req, res) => {\r\n  let query = \"CALL `getPhotoByID`(?)\";\r\n  db.query( query, [req.params.photoid], (error, photo ) =>{\r\n    if(error){\r\n      res.json({ photo: false, message: error });\r\n    }\r\n    else{\r\n      res.json({ photo: photo[0][0], message: \"Returned photo by ID\"});\r\n    }\r\n  })\r\n})\r\n\r\n\r\n\r\nserver.post('/photos', (req,res) => {\r\n  let query = \"CALL `addPhoto`(?, ?, ?, ?)\";\r\n  db.query( query, [req.body.albumId_fromC, req.body.title_fromC, req.body.url_fromC, req.body.tn_fromC], (error, newphoto) => {\r\n    if(error){\r\n      res.json({ newphoto: false, message: error });\r\n    }\r\n    else{\r\n      res.json({ newphoto: newphoto[0], message:\"Photo added to the table\"});\r\n    }\r\n  })\r\n});\r\n\r\n\r\n\r\n\r\nserver.delete('/photos/:id', (req, res) => {\r\n  let query = \"CALL `deletePhoto`(?)\";\r\n  let getFilename = \"CALL `getPhotoByID`(?)\";\r\n\r\n  db.query( getFilename, [req.params.id], (error, data) =>{\r\n    //res.json(data[0][0].url);\r\n    if(error){\r\n\r\n    }\r\n    else{\r\n      let file_to_be_deleted = data[0][0].url;\r\n      fs.unlink('./uploads/'+file_to_be_deleted, (error) =>{\r\n        if(error){\r\n          res.json({ delStatus: false, message: error});\r\n        }\r\n        else{\r\n          db.query(query, [req.params.id], (error, deleteStatus) =>{\r\n            if(error){\r\n              res.json({ delStatus: false, message: error });\r\n            }\r\n            else{\r\n              let del_success = deleteStatus[0][0].DEL_SUCCESS;\r\n              if(del_success === 1){\r\n                res.json({ delStatus: del_success, message:\"Successfully Deleted\" });\r\n              }\r\n              else{\r\n                res.json({ delStatus: del_success, message: \"ID not found\" });\r\n              }\r\n              \r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n    \r\n  })\r\n  \r\n  \r\n});\r\n\r\n// server.get('/employeesapi',(req,res)=>{\r\n\r\n//   // let allEmpSP =\"CAll `All_Emp_Data`()\";\r\n//   let allEmpSP = \"SELECT * FROM Employee\"\r\n//   let query = db.query(allEmpSP,(error,data,fields) => {\r\n//     if(error){\r\n//       res.json({ ErrorMessage:error })\r\n//       // console.log(error);\r\n//     }\r\n//     else{\r\n//     // console.log(data);\r\n//     res.json(data);\r\n//   }\r\n\r\n//   })\r\n// })\r\n\r\n\r\n// method 1\r\n// server.get('/employeessp', (req, res) => {\r\n//   let allEmpSP = \"CALL `All_Emp_Data`()\";\r\n//   //let allEmpSP = \"SELECT * FROM Employee\"\r\n//   let query = db.query(allEmpSP, (error, data, fields) => {\r\n//     if(error){\r\n//       res.json({ ErrorMessage: error });\r\n//     }\r\n//     else{\r\n//       res.json(data[0]);\r\n//     }\r\n    \r\n//   })\r\n// });\r\n\r\n// method 2\r\n// server.get('/employee/:id' , (req,res) => {\r\n//   let emp_id = req.params.id;\r\n//   let empSP = \"CALL 'one_emp_data`(?)\";\r\n//   db.query(empSP,[emp_id] , (error,data,fields) =>{\r\n//     if(error){\r\n//       res.json({ ErrorMessage: error});\r\n//     }\r\n\r\n//     else{\r\n//       res.json(data[0]);\r\n//     }\r\n//   })\r\n// });\r\n\r\n// LOGIN\r\nserver.post('/login', (req, res) => {\r\n  let email = req.body.email;\r\n  let password = req.body.password;\r\n  let loginQuery = 'CALL `login`(?, ?)';\r\n  db.query(loginQuery, [email, password], (error, data) => {\r\n    if(error){\r\n      res.json({ ErrorMessage: error});\r\n    }\r\n    else{\r\n      if(data[0].length === 0){\r\n        res.json({ data: data[0], login: false, message: \"Sorry, you have provided wrong credentials\"})\r\n      }\r\n      else{\r\n        res.json({ \r\n            UserID: data[0].UserID, \r\n            email: data[0].email,\r\n            data: data[0],\r\n            login: true, \r\n            message: \"Login successful\"});\r\n            // create the Auth Key\r\n      }\r\n\r\n      \r\n    }\r\n  })\r\n\r\n});\r\n\r\n// server.post('/signup', (req, res) => {\r\n//   let email = req.body.email;\r\n//   let password = req.body.password;\r\n//   let name = req.body.name;\r\n  \r\n//   let signupQuery = \"CALL `newuser`(?, ?, ?)\";\r\n//   db.query(signupQuery, [email, password,name], (error, data) => {\r\n//     if(error){\r\n//       res.json({ ErrorMessage: error});\r\n//     }\r\n\r\n//     else{\r\n//      res.json({ data: data[0], signup: true, message: \"Signup success\"})\r\n// }  \r\n// })   \r\n// });\r\n\r\n// SIGNUP\r\nserver.post('/signup', (req, res) => {\r\n  // req.body is targeting the client side\r\n  let email = req.body.email;\r\n  let password = req.body.password;\r\n  let name = req.body.name;\r\n  \r\n  let signupQuery = \"CALL `newuser`(?,?,?)\";\r\n  db.query(signupQuery, [email, password,name], (error, data,fields) => {\r\n    if(error){\r\n      res.json({ newuser: false, message: error })\r\n      // res.json({ ErrorMessage: error});\r\n      // res.json({newuser:false,message:error})\r\n    }\r\n    else{\r\n      \r\n      res.json({ newuser: true, message: \"New user added to the db\"});\r\n      }\r\n  \r\n      \r\n    \r\n  })\r\n\r\n})\r\n\r\n// Update\r\nserver.put('/updateUser', (req, res) => {\r\n  let ID = req.body.ID;\r\n  let email = req.body.email;\r\n  let password = req.body.password;\r\n  let query = \"CALL `updateUser`(?, ?, ?)\";\r\n  db.query(query, [ID, email, password], (error, data) => {\r\n    if(error){\r\n      res.json({ update: false, message: error });\r\n    }\r\n    else{\r\n      res.json({ update: true, message: \"User successfully updated\"});\r\n    }\r\n  })\r\n});\r\n\r\n\r\n\r\nserver.delete('/deleteuser/:id',(req,res) => {\r\n  // let ID = req.params.id;\r\n  let query = \"CALL `deleteUser`(?)\";\r\n  // db.query (query,[ID],(error,data) =>{\r\n    db.query (query,[req.params.id],(error,data) =>{\r\n    if(error){\r\n      res.json({deleteUser: false,message:error});\r\n    }\r\n    else{\r\n      res.json({ deleteUser: true, message: \"User deleted successfully \"});\r\n    }\r\n  })\r\n}) \r\n\r\nserver.get('/user/:id', (req, res) => {\r\n  let ID = req.params.id;\r\n  let query = \"CALL `getUser`(?)\";\r\n  db.query(query, [ID], (error, data) => {\r\n    if(error){\r\n      res.json({ user: false, message: error })\r\n    }\r\n    else{\r\n      if(data[0].length === 0){\r\n        res.json({ user: false, message: \"No user with that ID exists\" })\r\n      }\r\n      else{\r\n        res.json({ user: true, message: \"User found\", userData: data[0]});\r\n      }\r\n    }\r\n  })\r\n})\r\n\r\n//Get means client is asking\r\n//Post is giving some extra information and also asking for data\r\n\r\n// req is data from the client to the server\r\n// res is data from the server to the client\r\nserver.get('/photosapi' , (req,res) => {\r\n    res.json(jsonData);\r\n\r\n});\r\n\r\n\r\n\r\nserver.get('/photosapi/:photoid', (req, res) => {\r\n  let id_from_client = req.params.photoid;\r\n  res.json(jsonData.find( x => x.id ==  id_from_client ));\r\n\r\n});\r\n\r\n\r\n\r\nserver.post('/photosapi', (req, res) => {\r\n\r\n  let newPhoto = {\r\n    albumId: req.body.albumId,\r\n    id:req.body.id,\r\n    title: req.body.title,\r\n    url:req.body.url,\r\n    thumbnailUrl: req.body.thumbnailUrl\r\n  }\r\n\r\n  // console.log(newPhoto)\r\n\r\n  jsonData.push(newPhoto);\r\n  res.json(newPhoto);\r\n});\r\n\r\n\r\n\r\nserver.put('/photosapi/:id', (req, res) => {\r\nlet photoindex = jsonData.findIndex( x => x.id == req.params.id);\r\nconsole.log(photoindex);\r\nif(photoindex !== -1){\r\n  let newPhotoData = {\r\n    albumId: req.body.albumId,\r\n    id:req.body.id,\r\n    title: req.body.title,\r\n    url:req.body.url,\r\n    thumbnailUrl: req.body.thumbnailUrl\r\n  }\r\n  jsonData[photoindex] = newPhotoData;\r\n  res.json(jsonData[photoindex]);\r\n}\r\nelse\r\n  res.status(400).json( { message: \"There is no photo with ID: \" + req.params.id})\r\n\r\n})\r\n\r\n\r\n\r\nserver.delete('/photosapi/:id', (req, res) =>{\r\nlet photoindex = jsonData.findIndex( x => x.id == req.params.id);\r\nif(photoindex !== -1){\r\n  jsonData.splice(photoindex, 1);\r\n  res.json({ message: \"Photo ID: \" + req.params.id + \" deleted\"});\r\n}\r\nelse  \r\n  res.status(400).json({ message: \"ERROR: Photo ID: \" + req.params.id + \" not found\"});\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n// You can give port number of your choice\r\nserver.listen(4400, function() {\r\n     console.log('Server is successfully running on port 4400');\r\n    //  console.log(process.env.DBPORT);\r\n     \r\n})"],"mappings":"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"}},"mtime":1657045062473}}